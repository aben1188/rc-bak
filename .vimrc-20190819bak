" Vimå¯åŠ¨æ—¶ï¼Œè‹¥åŠ ä¸Š--startuptimeå‚æ•°ï¼Œå¯æŸ¥çœ‹å…¶å¯åŠ¨åŠ è½½è¿‡ç¨‹ä¸­æ¯ä¸€æ­¥æ‰€è€—è´¹çš„ 
" è¯¦ç»†æ—¶é—´ä»¥åŠè€—è´¹çš„æ€»æ—¶é—´ï¼Œæ¯”å¦‚ï¼š
"     vim --startuptime 'vimStartupTime.txt' 

"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" ä»¥ä¸‹ä¸ºVimæ’ä»¶ç®¡ç†å·¥å…·vim-plugçš„è®¾ç½®(è¦æ±‚æ”¾åœ¨vimrcçš„æœ€å‰é¢)
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"..................................................
" vim-plugç®€è¦å¸®åŠ©(å¸¸ç”¨å‘½ä»¤)
"..................................................
" :PlugInstall [name ...] [#threads]  - Install plugins
" :PlugUpdate [name ...] [#threads]	  - Install or update plugins
" :PlugClean[!]	                      - Remove unused directories (bang version will clean without prompt)
" :PlugUpgrade	                      - Upgrade vim-plug itself
" :PlugStatus	                      - Check the status of plugins
" :PlugDiff	                          - Examine changes from the previous update and the pending changes
" :PlugSnapshot[!] [output path]	  - Generate script for restoring the current snapshot of the plugins
"
" See also vim-plug official website: https://github.com/junegunn/vim-plug
"..................................................
"let s:vimdatapath=''
"if !(has('win32') || has('win64'))  |" Windows OS
"    s:vimdatapath='E:/LypData/MyData/Data/VimData/'
"else  |" other OS
"    s:vimdatapath='~/.vim/'
"endif

" Place the following code in your .vimrc before plug#begin() call, 
" it can automatically download the plug.vim and put it in the 'autoload' directory
"if empty(glob(s:vimdatapath . 'autoload/plug.vim'))
if (has('win32') || has('win64')) && empty(glob('~/vimfiles/autoload/plug.vim'))
    " Windowsç³»ç»Ÿä¸­ï¼Œéœ€é€šè¿‡æ‰‹åŠ¨åœ¨PowerShellä¸­æ‰§è¡Œä¸‹åˆ—å‘½ä»¤æ¥ä¸‹è½½å®‰è£…vim-plugï¼š
    "     md ~\vimfiles\autoload
    "     $uri = 'https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'
    "     (New-Object Net.WebClient).DownloadFile(
    "       $uri,
    "       $ExecutionContext.SessionState.Path.GetUnresolvedProviderPathFromPSPath(
    "         '~\vimfiles\autoload\plug.vim'
    "       )
    "     )
    echoerr "Sorry, please manually install vim-plug first in Windows.
                \ For details, see here: https://github.com/junegunn/vim-plug."
    finish
elseif (has('unix') || has('mac')) && empty(glob('~/.vim/autoload/plug.vim'))
    silent !curl -fLo ~/.vim/autoload/plug.vim --create-dirs
        \ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
    autocmd VimEnter * PlugInstall --sync | source $MYVIMRC
endif

if (has('win32') || has('win64'))  " Windows OS
    let s:plugged='~/vimfiles/plugged'
else  " other OS
    let s:plugged='$VIM/plugged'
endif

call plug#begin(s:plugged)
"............................................................
" Keep Plug commands between plug#begin/end.
"............................................................

" Make sure you use single quotes

" Vimä¸­æ–‡å¸®åŠ©ï¼Œå‚è§ï¼šhttps://github.com/yianwillis/vimcdoc
Plug 'yianwillis/vimcdoc'

" å®‰è£…é«˜äº®æ–¹æ¡ˆ(è‰²å½©ä¸»é¢˜)Dracula
" `as` will install the plugin in a directory called 'dracula' instead of just 'vim'
" See also: https://github.com/dracula/dracula-theme
Plug 'dracula/vim', { 'as': 'dracula' }

"Plug 'L9'
"" Git plugin not hosted on GitHub
"Plug 'git://git.wincent.com/command-t.git'
"" git repos on your local machine (i.e. when working on your own plugin)
"Plug 'file:///home/gmarik/path/to/plugin'
"" The sparkup vim script is in a subdirectory of this repo called vim.
"" Pass the path to set the runtimepath properly.
"Plug 'rstacruz/sparkup', {'rtp': 'vim'}
"" Install L9 and avoid a Naming conflict if you've already installed a
"" different version somewhere else.
"Plug 'ascenator/L9', {'name': 'newL9'}

" See also: https://github.com/scrooloose/nerdtree
" NERD tree will be loaded on the first invocation of NERDTreeToggle command
Plug 'scrooloose/nerdtree', { 'on': 'NERDTreeToggle' }
"Plug 'scrooloose/nerdtree'

" A plugin of NERDTree showing git status
" Use this variable to change symbols:
" let g:NERDTreeIndicatorMapCustom = {
"     \ 'Modified'  : 'âœ¹',
"     \ 'Staged'    : 'âœš',
"     \ 'Untracked' : 'âœ­',
"     \ 'Renamed'   : 'âœ',
"     \ 'Unmerged'  : 'â•',
"     \ 'Deleted'   : 'âœ–',
"     \ 'Dirty'     : 'âœ—',
"     \ 'Clean'     : 'âœ”ï¸',
"     \ 'Ignored'   : 'â˜’',
"     \ 'Unknown'   : '?'
"     \ }
" See also: https://github.com/Xuyuanp/nerdtree-git-plugin
Plug 'Xuyuanp/nerdtree-git-plugin'

" Extra syntax and highlight for nerdtree files
" This adds syntax for nerdtree on most common file extensions or file types
" See also: https://github.com/tiagofumo/vim-nerdtree-syntax-highlight
Plug 'tiagofumo/vim-nerdtree-syntax-highlight'

" ä¸‹é¢çš„æ’ä»¶éœ€å…ˆå®‰è£…powerlineã€airlineä¸“ç”¨å­—ä½“ï¼Œå®‰è£…æ–¹æ³•ï¼š
" https://github.com/powerline/fonts#installation
" å¦‚æœä¸å®‰è£…ä¸“ç”¨å­—ä½“åˆ™æ˜¾ç¤ºä¼šä¸æ­£å¸¸
Plug 'vim-airline/vim-airline'
Plug 'vim-airline/vim-airline-themes'

" æ’ä»¶easymotioné»˜è®¤çš„å¿«æ·é”®
" <LEADER><LEADER>wï¼šè·³è½¬åˆ°å½“å‰å…‰æ ‡åçš„æŸä¸ªå•è¯
" <LEADER><LEADER>bï¼šè·³è½¬åˆ°å½“å‰å…‰æ ‡å‰çš„æŸä¸ªå•è¯
" <LEADER><LEADER>sï¼šåŒå‘è·³è½¬åˆ°æ‰€è¾“å…¥çš„å•ä¸ªå­—ç¬¦(å•ä¸ªå­—æ¯æˆ–å•ä¸ªæ±‰å­—)
" <LEADER><LEADER>jï¼šè·³è½¬åˆ°å…‰æ ‡ä¸‹é¢çš„æŸè¡Œ
" <LEADER><LEADER>kï¼šè·³è½¬åˆ°å…‰æ ‡ä¸Šé¢çš„æŸè¡Œ
Plug 'easymotion/vim-easymotion'

" å®‰è£…ç¼“å†²åŒºç®¡ç†å·¥å…·bufferhintï¼Œéå¸¸å¥½ç”¨(åé¢å¿«æ·é”®æ˜ å°„éƒ¨åˆ†æœ‰ç®€è¦è¯´æ˜)
Plug 'bsdelf/bufferhint'

" å®‰è£…å¤šå…‰æ ‡æ“ä½œ(å¤šå…‰æ ‡ç¼–è¾‘æ“ä½œã€å¤šè¡Œç¼–è¾‘æ“ä½œ)æ’ä»¶(ç±»ä¼¼äºSublime Text)
"     å®‰è£…åæ’ä»¶å·²é»˜è®¤æ˜ å°„äº†å¿«æ·é”®ï¼šæ™®é€šæ¨¡å¼åŠå¯è§†æ¨¡å¼ä¸‹æŒ‰<C-n>ï¼Œå¯è¿›å…¥
"     å¤šå…‰æ ‡æ“ä½œæ¨¡å¼ï¼›ä»¥åŠåœ¨å¤šå…‰æ ‡æ“ä½œæ¨¡å¼ä¸‹æŒ‰<C-n>ã€<C-p>ã€<C-x>ã€<ESC>
"     å¯è¿›è¡Œç›¸åº”æ“ä½œï¼Œå…·ä½“å‚è§ä¸‹é¢åˆ—å‡ºçš„é»˜è®¤æ˜ å°„(Default mapping)ï¼š
"         let g:multi_cursor_start_word_key      = '<C-n>  |"å·²æ˜ å°„ä¸º<LEADER><LEADER>m'
"         let g:multi_cursor_select_all_word_key = '<A-n>'
"         let g:multi_cursor_start_key           = 'g<C-n>'
"         let g:multi_cursor_select_all_key      = 'g<A-n>'
"         let g:multi_cursor_next_key            ='<C-n>'
"         let g:multi_cursor_prev_key            ='<C-p>'
"         let g:multi_cursor_skip_key            ='<C-x>'
"         let g:multi_cursor_quit_key            ='<Esc>'
"     ç„¶åå†å°†ä¸Šè¿°é»˜è®¤æ˜ å°„å¿«æ·é”®æŒ‰è‡ªå·±çš„æ„æ„¿è¿›è¡Œä¿®æ”¹ã€‚
"     ä½¿ç”¨è¯´æ˜ï¼š
"     1ï¼‰<C-n>ï¼ŒæŒ‰ä¸€æ¬¡é€‰ä¸­å½“å‰å…‰æ ‡æ‰€åœ¨çš„å•è¯ï¼Œå†æŒ‰ä¸€æ¬¡é€‰ä¸­ä¸‹ä¸€ä¸ªåŒæ ·çš„å•è¯ï¼Œ
"        æ— è®ºæ˜¯é€‰ä¸­ç¬¬ä¸€ä¸ªå•è¯æ—¶ï¼Œè¿˜æ˜¯åé¢é€‰ä¸­æ—¶ï¼Œå‡è¿˜å¯æŒ‰hã€lå·¦å³è°ƒæ•´é€‰åŒºï¼›
"     2ï¼‰<C-p>ï¼Œåœ¨å·²ç»æŒ‰äº†<C-n>çš„æƒ…å†µä¸‹ï¼ŒæŒ‰<C-p>å›é€€ä¸€æ¬¡å¤šé€‰ï¼›
"     3ï¼‰<C-x>ï¼Œè·³è¿‡å½“å‰é€‰åŒºï¼Œå³ä¸é€‰æ‹©å½“å‰é€‰åŒºï¼Œè‡ªåŠ¨è·³åˆ°ä¸‹ä¸€ä¸ªï¼›
"     4ï¼‰é€‰å®Œåï¼Œåˆ™å¯åŒæ—¶å¯¹é€‰åŒºè¿›è¡Œæ‰¹é‡ç¼–è¾‘äº†ï¼Œæ¯”å¦‚æŒ‰ä¸‹cï¼Œå¯åŒæ—¶ä¿®æ”¹é€‰åŒºï¼›
"     5ï¼‰<ESC>ï¼Œé€€å‡ºå¤šå…‰æ ‡æ“ä½œæ¨¡å¼ã€‚
" See also: https://github.com/terryma/vim-multiple-cursors
Plug 'terryma/vim-multiple-cursors'

" æ¯”ShowMarksæ›´å¥½ç”¨çš„æ ‡è®°æ˜¾ç¤ºã€ç®¡ç†å’Œä½¿ç”¨å·¥å…·
" Key mappings by default:
"     m1  |MarkologyEnable| Switches Markology on.
"     m0  |MarkologyDisable| Switches Markology off.
"     m!  |MarkologyToggle| Toggles Markology on and off.
"     m,  |MarkologyPlaceMarkToggle| Toggles the mark at the current line.
"     m+  |MarkologyPlaceMark| Places the next available mark on the current line.
"     m-  |MarkologyClearMark| Clears the mark at the current line.
"     m_  |MarkologyClearAll| Clears all marks in the current buffer.
"     m]  |MarkologyNextLocalMarkPos| Jumps to the next local mark.
"     m[  |MarkologyPrevLocalMarkPos| Jumps to the previous local mark.
"     m}  |MarkologyNextLocalMarkByAlpha| Jumps to the next local mark in lexicographical order.
"     m{  |MarkologyPrevLocalMarkByAlpha| Jumps to the previous local mark in lexicographical order.
"     m?  |MarkologyLocalList| List marks in |location-list| for the current window.
"     m^  |MarkologyQuickFix| List marks in |quickfix| window.
"     m*  |MarkologyLineHighlightToggle| Toggle line highlighting of (lower-case) marks.
" These default mappings can be overridden by default in your '~/.vimrc', by, for
" example:
"     nmap <silent> ;0 <Plug>MarkologyEnable
"     nmap <silent> ;1 <Plug>MarkologyDisable
"     nmap <silent> ;! <Plug>MarkologyToggle
"     nmap <silent> ;, <Plug>MarkologyPlaceMarkToggle
"     nmap <silent> ;+ <Plug>MarkologyPlaceMark
"     nmap <silent> ;- <Plug>MarkologyClearMark
"     nmap <silent> ;_ <Plug>MarkologyClearAll
"     nmap <silent> ;] <Plug>MarkologyNextLocalMarkPos
"     nmap <silent> ;[ <Plug>MarkologyPrevLocalMarkPos
"     nmap <silent> ;} <Plug>MarkologyNextLocalMarkByAlpha
"     nmap <silent> ;{ <Plug>MarkologyPrevLocalMarkByAlpha
"     nmap <silent> ;? <Plug>MarkologyLocationList
"     nmap <silent> ;~ <Plug>MarkologyQuickFix
" See also: https://github.com/jeetsukumaran/vim-markology/blob/master/doc/markology.txt
Plug 'jeetsukumaran/vim-markology'

" Surround.vim is all about 'surroundings': parentheses, brackets,
" quotes, XML tags, and more. The plugin provides mappings to easily
" delete, change and add such surroundings in pairs.
" For example, \"Hello world!":
"     cs"': 'Hello world!'
"     cs'<q>: <q>Hello world!</q>
"     cst": \"Hello world!"  "t: tag
"     ds".: Hello world!
" Now with the cursor on \"Hello",
"     ysiw]: [Hello] world!  "iw is a text object
" Let's make that braces and add some space (use } instead of { for no space):
"     cs]{: { Hello } world!
" Now wrap the entire line in parentheses:
"     yssb or yss): ({ Hello } world!)
" Revert to the original text:
"     ds{ds): Hello world!
" Emphasize hello:
"     ysiw<em>: <em>Hello</em> world!
" Visual mode: Press a capital V (for linewise visual mode) followed by:
"     S<p class="important">:
"         <p class="important">
"           <em>Hello</em> world!
"         </p>
" The . command will work with ds, cs, and yss if you install repeat.vim.
" See also: https://github.com/tpope/vim-surround
Plug 'tpope/vim-surround'
" By default,  the . command after a plugin map, only repeated the last 
" native command inside that map, rather than the map as a whole. 
" Repeat.vim remaps . in a way that plugins can tap into it.
" See also: https://github.com/tpope/vim-repeat
Plug 'tpope/vim-repeat'
" Abolish.vim: easily search for, substitute, and abbreviate multiple 
" variants of a word.
" See also: https://github.com/tpope/vim-abolish
Plug 'tpope/vim-abolish'

" åœ¨vimé‡Œä½¿ç”¨gitå‘½ä»¤
Plug 'tpope/vim-fugitive'
" vim-easygitï¼šè½»é‡çº§git wrapperæ’ä»¶ï¼Œæ‹¥æœ‰fugitiveçš„æ‰€æœ‰åŠŸèƒ½ï¼ŒåŒæ—¶è§£å†³å…¶
" éš¾ä»¥æ‰©å±•çš„é—®é¢˜ï¼Œå‚è§ï¼šhttps://github.com/chemzqm/vim-easygit/
"Plug 'neoclide/vim-easygit'

" gitæäº¤è®°å½•æµè§ˆå™¨
" æ³¨ï¼šè¯¥æ’ä»¶å¿…é¡»å…ˆå®‰è£…vim-fugitiveæ‰æœ‰æ•ˆ
" Commands
"     :GV to open commit browser
"         You can pass git log options to the command, e.g. :GV -S foobar.
"     :GV! will only list commits that affected the current file
"     :GV? fills the location list with the revisions of the current file
"     NOTE :GV or :GV? can be used in visual mode to track the changes in
"          the selected lines.
" Mappings
"     o or <cr> on a commit to display the content of it
"     o or <cr> on commits to display the diff in the range
"     O opens a new tab instead
"     gb for :Gbrowse
"     ]] and [[ to move between commits
"     . to start command-line with :Git [CURSOR] SHA Ã  la fugitive
"     q to close
" See also: https://github.com/junegunn/gv.vim
Plug 'junegunn/gv.vim'

" åœ¨vimçš„gutter(å³sign column)ä¸­æ˜¾ç¤ºgitæ–‡ä»¶å˜åŠ¨æ ‡è®°
" See also: https://github.com/airblade/vim-gitgutter
Plug 'airblade/vim-gitgutter'

" LeaderFæ’ä»¶éœ€è¦Pythonæ”¯æŒ
"Plug 'Yggdroot/LeaderF', { 'do': './install.sh' }

" Jump to any location specified by two characters: s{char}{char}
" See also: https://github.com/justinmk/vim-sneak
Plug 'justinmk/vim-sneak'
" label-mode for a minimalist alternative to EasyMotion:
let g:sneak#label = 1

" å ªç§°å®Œç¾çš„æ³¨é‡Šè§£å†³æ–¹æ¡ˆï¼Œä¸€ä¸ªå¿«æ·é”®æå®šæ³¨é‡Šé—®é¢˜ï¼Œå–œæ¬¢é…ç½®çš„å¯ä»¥ä½¿ç”¨
" nerdcommenterï¼šhttps://github.com/scrooloose/nerdcommenter
" A stupid comment plugin made for people can't remember so many mappings:)
" You only need to remember one mapping for comment: <LEADER>c
"     [count]<LEADER>cc: Toggle comment of count(default current line) lines.
"     <LEADER>cip: Toggle comment of a block. Yes, it's a motion mapping, 
"                  ip could be any motion object.
"     V***<LEADER>c: Select a block and toggle comment
" More productive:
"    1. You can use . to repeat your last comment command, no need vim-repeat. 
"    2. If you have emmet-vim, the plugin would use emmet comment function for 
"       comment toggle of tags in html/xml/xhtml files
Plug 'neoclide/mycomment.vim'
"Plug 'aben1188/mycomment.vim'

" å¯¹é½æ’ä»¶ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œå‚è§ï¼šhttps://github.com/junegunn/vim-easy-align
"Plug 'junegunn/vim-easy-align'

" vim-easyclip: Simplified clipboard functionality for Vim
" EasyClip is a plugin for Vim which contains a collection of clipboard related
" functionality with the goal of making using the clipboard in Vim simpler and
" more intuitive without losing any of its power. A good starting point for the
" motivation behind this Vim plugin can be found in Drew Neil's post
"     Registers - The Good, the Bad, and the Ugly Parts
"     (http://vimcasts.org/blog/2013/11/registers-the-good-the-bad-and-the-ugly-parts/,
"     Also can reference here: https://github.com/nelstrom/vim-cutlass)
" Default Key Mappings
"     d<motion> - Delete over the given motion and do not change clipboard
"     dd - Delete the line and do not change clipboard
"     D - Delete from cursor to the end of the line and do not change clipboard
"     dD - Delete the contents of line except the newline character (that is,
"          make it blank) and do not change clipboard
"     x - Delete the character under cursor and do not change clipboard
"     s - Delete the character under cursor then enter insert mode and do not change clipboard
"     S - Delete the line under cursor then enter insert mode and do not change clipboard
"     c<motion> - Enter insert mode over top the given area and do not change clipboard
"     cc - Enter insert mode over top the current line and do not change clipboard
"     C - Enter insert mode from cursor to the end of the line and do not change clipboard
"     p - Paste from specified register. Inserts after current line if text is multiline,
"         after current character if text is non-multiline. Leaves cursor at end of pasted text.
"     P - Same as p except inserts text before current line/character
"     <leader>p - Same as p except does not auto-format text. This is only relevant
"          if the auto-format option is enabled
"     <leader>P - Same as P except does not auto-format text. This is only relevant
"          if the auto-format option is enabled
"     gp - Same as p but preserves the current cursor position
"     gP - Same as P but preserves the current cursor position
"     g<leader>P - Same as <leader>P but preserves the current cursor position
"     g<leader>p - Same as <leader>p but preserves the current cursor position
"     m<motion> - Delete over the given motion and copy text to clipboard
"     mm - Delete the current line and copy text to clipboard
"     NOTE  M is NOT mapped by default. If you want it, include the following in your .vimrc:
"     nmap M <Plug>MoveMotionEndOfLinePlug
"     <CTRL-P> - Rotate the previous paste forward in yank buffer. Note that this binding
"          will only work if executed immediately after a paste
"     <CTRL-N> - Rotate the previous paste backward in yank buffer. Note that this binding
"          will only work if executed immediately after a paste
"     [y - Go backward in the yank buffer. This can be executed at any time to modify order
"          of yanks in the yank buffer (though I would recommend just using <CTRL-P> instead)
"     ]y - Go forward in the yank buffer. This can be executed at any time to modify order
"          of yanks in the yank buffer (though I would recommend just using <CTRL-N> instead)
"     Y - Copy text from cursor position to the end of line to the clipboard
"     NOTE  When the option g:EasyClipUseSubstituteDefaults is enabled, the following mappings are added:
"     s<motion> - Substitute over the given motion with specified register (or default register
"          if unspecified). Note that this only applies if the g:EasyClipUseSubstituteDefaults option is set.
"     ss - Substitute over the current line with specified register (or default register if unspecified).
"          Note that this only applies if the g:EasyClipUseSubstituteDefaults option is set.
"     gs - Same as s but preserves the current cursor position.
" Custom Yanks
" If you have custom yanks that occur in your vimrc or elsewhere and would like them to be included
" in the yank history, you should call the EasyClip#Yank(). For example, to add a binding to yank
" the current file name you could add the following to your .vimrc:
"     nnoremap <leader>yf :call EasyClip#Yank(expand('%'))<cr>
" Another way to do the above (which is necessary if you don't control the yank yourself), is to do the following:
"     nnoremap <leader>yf :EasyClipBeforeYank<cr>:let @*=expand('%')<cr>:EasyClipOnYanksChanged<cr>
" Also, worth noting is the Paste command which takes an index and pastes the yank at that index.
" For example, executing :Paste 0 is equivalent to p, :Paste 1 is equivalent to "1p, etc.
" For use within scripting, there is also the corresponding method EasyClip#PasteIndex which
" like the command takes an index as parameter. For the P equivalent, there is also
" a PasteBefore command and EasyClip#PasteIndexBefore method.
" Another method worth noting is EasyClipGetYankAtIndex which returns the text
" for the yank at a given index.
" See also: https://github.com/svermeulen/vim-easyclip
"Plug 'svermeulen/vim-easyclip'

" å¤šå¯„å­˜å™¨ç»Ÿä¸€å¯è§†åŒ–ç®¡ç†å·¥å…·
" When you paste the copied message and you need change it for another message
" you copied before, it will be very easy to change. You just need to do CTRL+P
" or CTRL + N to change the message.
" Display the contents of the yankring:
"     :YRShow   ã€æ³¨ï¼šæ˜ å°„ä¸º<LEADER>yrã€‘
" å°†yankringçš„å†å²æ–‡ä»¶å¤¹ç§»åˆ°~/.vim
"     let g:yankring_history_dir = $HOME.'/.vim/'
" ä¿®æ”¹å†å²æ–‡ä»¶å
"     let g:yankring_history_file = '.yankring_history'
" é€‰æ‹©ä¸Šä¸€ä¸ªå¤åˆ¶çš„æ–‡æœ¬
"     let g:yankring_replace_n_pkey = '<LEADER>ym'
" é€‰æ‹©ä¸‹ä¸€ä¸ªå¤åˆ¶çš„æ–‡æœ¬
"     let g:yankring_replace_n_pkey = '<LEADER>yn'
" Get help:
"     :h yankring.txt
"     :h yankring-tutorial
" See also: https://github.com/vim-scripts/YankRing.vim
"Plug 'vim-scripts/YankRing.vim'

" è°ƒç”¨ç³»ç»Ÿçš„å…¨æ–‡æœç´¢ç¨‹åºagè¿›è¡Œå…¨æ–‡æœç´¢
" COMMANDS
"     :Ags [{file-type}] [{options}] {pattern} [{directory}]
"         Runs a recursive search in {directory} for
"         {pattern}. If {pattern} is not specified it
"         will be set to the word under cursor. The
"         {directory} will default to the current directory.
"         {options} and {file-type} are passed directly to
"         the ag executable. In addition a few other options,
"         as set in |ags_agargs|, will be specified for display purposes.
"         For example
"         :Ags --js Reducer
"     :AgsAdd [{file-type}] [{options}] {pattern} [{directory}]
"         Like |:Ags| but the matches are appended to the
"         current search results.
"     :AgsLast
"         Runs the last search. This could be used after entering
"         edit mode to return to view mode.
"     :AgsQuit
"         Closes the search results window whether in edit or
"         view mode.
"     :AgsEditSearchResults
"         Enters edit mode if the search results is open in
"         view mode.
"     :AgsShowLastCommand
"         Displays the command for the last search.
"MAPPINGS
"    Once inside the search results window:~
"        p    - navigate file paths forward
"        P    - navigate files paths backwards
"        r    - navigate results forward
"        R    - navigate results backwards
"        a    - display the file path for current results
"        c    - copy to clipboard the file path for current results
"        E    - enter edit mode
"        oa   - open file above the results window
"        ob   - open file below the results window
"        ol   - open file to the left of the results window
"        or   - open file to the right of the results window
"        os   - open file in the results window
"        ou   - open file in a previously opened window
"        xu   - open file in a previously opened window and close the search results
"        <CR> - open file in a previously opened window
"        q    - close the search results window
"        u    - displays these key mappings
" See also: https://github.com/gabesoft/vim-ags/blob/master/doc/ags.txt
if !(has('win32') || has('win64')) && executable('ag')
    Plug 'gabesoft/vim-ags'
endif

" è‡ªåŠ¨æ‰©å±•é€‰æ‹©æ’ä»¶
" vim-expand-region is a Vim plugin that allows you to visually select increasingly
" larger regions of text using the same key combination.
" Press + to expand the visual selection and _ to shrink it.
" mapping: Customize the key mapping if you don't like the default.
"     map K <Plug>(expand_region_expand)
"     map J <Plug>(expand_region_shrink)
" See also: https://github.com/terryma/vim-expand-region
Plug 'terryma/vim-expand-region'

" incsearch.vim incrementally highlights ALL pattern matches unlike default 'incsearch'.
" See also: https://github.com/haya14busa/incsearch.vim
Plug 'haya14busa/incsearch.vim'

" Adds Icons to Your Plugins
" Supports plugins such as NERDTree, vim-airline, CtrlP, powerline, denite, unite,
" lightline.vim, vim-startify, vimfiler, vim-workspace and flagship.
" NOTE NOTE  Always load the vim-devicons as the very last one NOTE NOTE
" See also: https://github.com/ryanoasis/vim-devicons
Plug 'ryanoasis/vim-devicons'

"............................................................
" All of your Plugins must be added before the following line
"............................................................
call plug#end()"

"..................................................
" vim-plugç®€è¦å¸®åŠ©(å¸¸ç”¨å‘½ä»¤)
"..................................................
" :PlugInstall [name ...] [#threads]  - Install plugins
" :PlugUpdate [name ...] [#threads]	  - Install or update plugins
" :PlugClean[!]                       - Remove unused directories (bang version will clean without prompt)
" :PlugUpgrade	                      - Upgrade vim-plug itself
" :PlugStatus	                      - Check the status of plugins
" :PlugDiff	                          - Examine changes from the previous update and the pending changes
" :PlugSnapshot[!] [output path]	  - Generate script for restoring the current snapshot of the plugins
"
" see also vim-plug official website: https://github.com/junegunn/vim-plug
"..................................................

" Put your non-Plugin stuff after this line
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" ä»¥ä¸Šä¸ºVimæ’ä»¶ç®¡ç†å·¥å…·vim-plugçš„è®¾ç½®(è¦æ±‚æ”¾åœ¨vimrcçš„æœ€å‰é¢)
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""


if (has('win32') || has('win64'))  "Windows OS
    """"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
    " ä»¥ä¸‹ä¸ºWindowsä¸­Vimåˆšå®‰è£…å_vimrcæœªä½œä»»ä½•ä¿®æ”¹ä¹‹å‰çš„æ‰€æœ‰åˆå§‹è®¾ç½®
    """"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
    source $VIMRUNTIME/vimrc_example.vim
    source $VIMRUNTIME/mswin.vim
    behave mswin

    set diffexpr=MyDiff()
    function MyDiff()
      let opt='-a --binary '
      if &diffopt=~ 'icase' | let opt=opt . '-i ' | endif
      if &diffopt=~ 'iwhite' | let opt=opt . '-b ' | endif
      let arg1=v:fname_in
      if arg1=~ ' ' | let arg1='"' . arg1 . '"' | endif
      let arg2=v:fname_new
      if arg2=~ ' ' | let arg2='"' . arg2 . '"' | endif
      let arg3=v:fname_out
      if arg3=~ ' ' | let arg3='"' . arg3 . '"' | endif
      let eq=''
      if $VIMRUNTIME=~ ' '
        if &sh=~ '\<cmd'
          let cmd='""' . $VIMRUNTIME . '\diff"'
          let eq='"'
        else
          let cmd=substitute($VIMRUNTIME, ' ', '" ', '') . '\diff"'
        endif
      else
        let cmd=$VIMRUNTIME . '\diff'
      endif
      silent execute '!' . cmd . ' ' . opt . arg1 . ' ' . arg2 . ' > ' . arg3 . eq
    endfunction
    """"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
    " ä»¥ä¸Šä¸ºWindowsä¸­Vimåˆšå®‰è£…å_vimrcæœªä½œä»»ä½•ä¿®æ”¹ä¹‹å‰çš„æ‰€æœ‰åˆå§‹è®¾ç½®
    """"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
else  " other OS
    """"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
    " ä»¥ä¸‹ä¸ºCentOSé»˜è®¤å®‰è£…çš„vim7.4çš„vimrcæ–‡ä»¶(/etc/vimrc)æœªä½œä»»ä½•ä¿®æ”¹ä¹‹å‰çš„
    " æ‰€æœ‰åˆå§‹è®¾ç½®
    """"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
    if v:lang =~ "utf8$" || v:lang =~ "UTF-8$"
       set fileencodings=ucs-bom,utf-8,latin1
    endif

    set nocompatible	" Use Vim defaults (much better!)
    set backspace=indent,eol,start		" allow backspacing over everything in insert mode
    "set ai			" always set autoindenting on
    "set backup		" keep a backup file
    set viminfo='20,\"50	" read/write a .viminfo file, don't store more
                " than 50 lines of registers
    set history=50		" keep 50 lines of command line history
    set ruler		" show the cursor position all the time

    " Only do this part when compiled with support for autocommands
    if has("autocmd")
      augroup redhat
      autocmd!
      " In text files, always limit the width of text to 78 characters
      " autocmd BufRead *.txt set tw=78
      " When editing a file, always jump to the last cursor position
      autocmd BufReadPost *
      \ if line("'\"") > 0 && line ("'\"") <= line("$") |
      \   exe "normal! g'\"" |
      \ endif
      " don't write swapfile on most commonly used directories for NFS mounts or USB sticks
      autocmd BufNewFile,BufReadPre /media/*,/run/media/*,/mnt/* set directory=~/tmp,/var/tmp,/tmp
      " start with spec file template
      autocmd BufNewFile *.spec 0r /usr/share/vim/vimfiles/template.spec
      augroup END
    endif

    if has("cscope") && filereadable("/usr/bin/cscope")
       set csprg=/usr/bin/cscope
       set csto=0
       set cst
       set nocsverb
       " add any database in current directory
       if filereadable("cscope.out")
          cs add $PWD/cscope.out
       " else add database pointed to by environment
       elseif $CSCOPE_DB != ""
          cs add $CSCOPE_DB
       endif
       set csverb
    endif

    " Switch syntax highlighting on, when the terminal has colors
    " Also switch on highlighting the last used search pattern.
    if &t_Co > 2 || has("gui_running")
        syntax on
        set hlsearch
    endif

    filetype plugin on

    if &term=="xterm"
        set t_Co=8
        set t_Sb=[4%dm
        set t_Sf=[3%dm
    endif

    " Don't wake up system with blinking cursor:
    " http://www.linuxpowertop.org/known.php
    let &guicursor = &guicursor . ',a:blinkon0'
    """"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
    " ä»¥ä¸Šä¸ºCentOSé»˜è®¤å®‰è£…çš„vim7.4çš„vimrcæ–‡ä»¶(/etc/vimrc)
    " æœªä½œä»»ä½•ä¿®æ”¹ä¹‹å‰çš„æ‰€æœ‰åˆå§‹è®¾ç½®
    """"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
endif


""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" å°†ä¸‹åˆ—å†…å®¹åŠ å…¥åˆ°äº‘æœåŠ¡å™¨vimrcæ–‡ä»¶çš„æœ«å°¾
" ï¼ˆCentOSé»˜è®¤å®‰è£…çš„vimçš„vimrcæ–‡ä»¶è·¯å¾„ï¼š/etc/vimrcï¼‰
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" NOTE ä¸ºäº†åœ¨è·¨ç³»ç»Ÿå¹³å°ä½¿ç”¨æœ¬vimrcæ–‡ä»¶æ—¶å°½å¯èƒ½å°‘åœ°ä¿®æ”¹ï¼Œä¸‹é¢çš„è‡ªå®šä¹‰è®¾ç½®
"      å¯èƒ½ä¸ç³»ç»Ÿè‡ªå¸¦çš„vimrcä¸­çš„è®¾ç½®å­˜åœ¨éƒ¨åˆ†é‡å¤

" æ³¨æ„ï¼šåœ¨vsvimä¸­ï¼Œè¯­å¥åé¢â€œ|"â€çš„æ³¨é‡Šå†™æ³•ä¼šå¯¼è‡´å‡ºé”™ï¼›è€Œåœ¨ideavimä¸­ï¼Œè‹¥å»é™¤è¯­å¥åé¢çš„â€œ|â€ï¼Œ
"       è€Œç›´æ¥å†™æˆâ€œ"â€ï¼Œä¹Ÿä¼šå¯¼è‡´å‡ºé”™ã€‚å› æ­¤ï¼Œæœ€å¥½æ˜¯ä¸è¦åœ¨è¯­å¥åé¢å†™æ³¨é‡Šã€‚

" ä¿å­˜vimrcæ–‡ä»¶åç«‹å³ç”Ÿæ•ˆï¼Œè€Œæ— éœ€å…³é—­åå†æ‰“å¼€vimæ‰ç”Ÿæ•ˆ
"autocmd BufWritePost $MYVIMRC source $MYVIMRC  |" ç»å¸¸å‡ºé—®é¢˜ï¼Œæœ‰æ—¶è¿˜ä¸èµ·ä½œç”¨

" Use Vim defaults (much better!)
set nocompatible

if !isdirectory(expand("~/.vim/"))
    call mkdir($HOME . "/.vim")
endif
"if !isdirectory(expand("~/.config/nvim/"))
    "call mkdir($HOME . '/.config/nvim', 'p')
"endif

" åˆ¤æ–­æ“ä½œç³»ç»Ÿ
" if has('win32') || has('win64')  |" Windows
"     ...
" elseif has('unix')               |" Unix/Linux
"     ...
" elseif has('mac')                |" MacOS
"     ...
" endif
if has('win32') || has('win64')
    " è®¾å®švimçš„è¿è¡Œæ—¶æŸ¥æ‰¾æ’ä»¶ç­‰æ–‡ä»¶æ—¶çš„ç›®å½•ï¼Œå¯ä»¥å®šä¹‰å¤šä¸ªç›®å½•ï¼Œæ‰€ä»¥ä½¿ç”¨+=è¿ç®—ç¬¦
    " æ³¨æ„ï¼šruntimepathä¹Ÿå¯ç®€å†™ä¸ºrtp
    set runtimepath+=$HOME/.vim

    " é€‰æ‹©æ–‡æœ¬æ¸²æŸ“å™¨å¹¶è®¾ç½®å…¶é€‰é¡¹ï¼Œé€‰é¡¹å–å†³äºæ¸²æŸ“å™¨(ç›®å‰åªæœ‰directxè¿™ä¸€ä¸ª
    " å¯é€‰çš„æ¸²æŸ“å™¨)ã€‚Vimä½¿ç”¨DirectX(DirectWrite)ç»˜åˆ¶æ–‡æœ¬ï¼Œè¿™æ¯”ç¼ºçœçš„GDI
    " èƒ½ç”»å‡ºæ›´å¥½çœ‹çš„å­—å½¢ã€‚
    " æ³¨ï¼šè¦æ±‚encodingé€‰é¡¹è®¾ç½®ä¸ºutf-8ï¼Œå¹¶ä¸”åªæœ‰MS-Windows Vistaæˆ–æ›´æ–°çš„
    " ç‰ˆæœ¬æ‰èƒ½å·¥ä½œã€‚
    set renderoptions=type:directx,renmode:5,taamode:1
else
    " If installed fzf using git, enable it inside Vim by adding the
    " directory to &runtimepath
    " See also: https://github.com/junegunn/fzf
    " æ³¨æ„ï¼šrtpå³runtimepathçš„ç®€å†™
    set rtp+=~/.fzf

    " æŒ‡å®šåœ¨Vimä¸­æ‰§è¡Œå¤–éƒ¨å‘½ä»¤(!commandæˆ–:!command)æ—¶æ‰€ç”¨çš„shell
    " æ³¨æ„ï¼šshellåç§°ä¸å…¶å‚æ•°ä¹‹é—´çš„ç©ºæ ¼å¿…é¡»åŠ ä¸Šåæ–œæ \è¿›è¡Œè½¬ä¹‰ï¼Œå‚æ•°-iè¡¨ç¤ºä»¥äº¤äº’æ¨¡
    " å¼ä½¿ç”¨zshï¼ˆ-iä¸ºzshçš„å‚æ•°ï¼‰
    " æ³¨ï¼šæŸ¥è¯¢å½“å‰æ‰€ä½¿ç”¨çš„shellï¼Œå¯åœ¨shellä¸­è¾“å…¥shellçš„é¢„å®šä¹‰å˜é‡$0æŸ¥çœ‹ï¼Œä¹Ÿå¯æ‰§è¡Œ
    "     ps -p $$æŸ¥çœ‹ï¼›æŸ¥è¯¢shellæ‰€åœ¨çš„è·¯å¾„å¯ä½¿ç”¨cat /etc/shellsæŸ¥çœ‹
    "set shell=/bin/zsh\ -i  |" è²Œä¼¼ä¸èƒ½æ”¾åœ¨vimrcä¸­ï¼Œå¦åˆ™å‡ºç°å¥‡æ€ªçš„é—®é¢˜

    "" -- tmux integration ----------------------------------------------------------
    "" make arrow keys, home/end/pgup/pgdown, and function keys work when inside tmux
    "if exists('$TMUX') && (system("tmux show-options -wg xterm-keys | cut -d' ' -f2") =~ '^on')
    "    " tmux will send xterm-style keys when its xterm-keys option is on
    "    " add 'setw -g xterm-keys on' to your ~/.tmux.conf
    "    execute "set <xUp>=\e[1;*A"
    "    execute "set <xDown>=\e[1;*B"
    "    execute "set <xRight>=\e[1;*C"
    "    execute "set <xLeft>=\e[1;*D"
    "    execute "set <xHome>=\e[1;*H"
    "    execute "set <xEnd>=\e[1;*F"
    "    execute "set <Insert>=\e[2;*~"
    "    execute "set <Delete>=\e[3;*~"
    "    execute "set <PageUp>=\e[5;*~"
    "    execute "set <PageDown>=\e[6;*~"
    "    execute "set <xF1>=\e[1;*P"
    "    execute "set <xF2>=\e[1;*Q"
    "    execute "set <xF3>=\e[1;*R"
    "    execute "set <xF4>=\e[1;*S"
    "    execute "set <F5>=\e[15;*~"
    "    execute "set <F6>=\e[17;*~"
    "    execute "set <F7>=\e[18;*~"
    "    execute "set <F8>=\e[19;*~"
    "    execute "set <F9>=\e[20;*~"
    "    execute "set <F10>=\e[21;*~"
    "    execute "set <F11>=\e[23;*~"
    "    execute "set <F12>=\e[24;*~"
    "endif
endif

set runtimepath+=$VIMRUNTIME/plugin

" ru[ntime][!] {file}ï¼šä»â€™runtimepathâ€™æŒ‡å®šçš„ç›®å½•é‡ŒæŸ¥æ‰¾{file}ã€‚ä»åŒ¹é…çš„æ–‡ä»¶
"     é‡Œè¯»å–Exå‘½ä»¤ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…çš„æ–‡ä»¶ï¼Œä¸æŠ¥é”™ã€‚å¦‚æœä½¿ç”¨äº†[!]ï¼Œæ‰€æœ‰æ‰¾åˆ°çš„
"     ä»»ä½•æ–‡ä»¶éƒ½è¢«æ‰§è¡Œã€‚å¦åˆ™ï¼Œåªæ‰§è¡Œç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„æ–‡ä»¶ã€‚
" matchit.vimï¼šè¿™æ˜¯Vimè‡ªå¸¦çš„æ’ä»¶ï¼Œæ”¯æŒä»»ä½•è¯­è¨€çš„%è·³è½¬ã€‚æ­£å¸¸çš„%è·³è½¬åªæ”¯æŒ
"     {}é£æ ¼çš„è¯­è¨€ã€‚è¯¥æ’ä»¶ä½¿"%"å‘½ä»¤å¯åœ¨ä¸¤ä¸ªå¯¹åº”çš„HTMLæ ‡è®°(å¼€å§‹æ ‡ç­¾ä¸ç»“æŸæ ‡ç­¾)ã€
"     Vimè„šæœ¬çš„if/else/endifç­‰åŒ¹é…ç‚¹ä¹‹é—´è·³è½¬ã€‚è¿™éå¸¸æœ‰ç”¨ï¼Œä½†å®ƒä¸å‘åå…¼å®¹ï¼Œ
"     æ‰€ä»¥é»˜è®¤çš„æƒ…å†µä¸‹å®ƒä¸ä¼šè¢«æ¿€æ´»(åŠ è½½)ï¼Œè€Œéœ€è¦æ‰‹åŠ¨åŠ è½½å®ƒã€‚
runtime macros/matchit.vim

" allow backspacing over everything in insert mode
set backspace=indent,eol,start

" è®¾ç½®å…‰æ ‡ä¸é—ªçƒ
let &guicursor = &guicursor . ',a:blinkon0'

" è®¾ç½®ä¸­æ–‡å¸®åŠ©
" æ³¨ï¼šå¿…é¡»å…ˆå®‰è£…ä¸­æ–‡å¸®åŠ©ï¼Œå¦åˆ™æ— æ•ˆï¼›å®‰è£…æ–¹å¼å‚è€ƒvimcdocçš„githubä»“åº“ï¼š
"     https://github.com/yianwillis/vimcdoc
"    ï¼ˆWindowsç³»ç»Ÿä¹Ÿå¯ç›´æ¥ä¸‹è½½ä¸­æ–‡å¸®åŠ©å®‰è£…åŒ…å®‰è£…åœ¨å¦‚C:\Program Files\
"    Vim\vim80ç›®å½•ä¸­ï¼‰
set helplang=cn

" æœç´¢æ—¶ä¸€è¾“å…¥å­—ç¬¦å³å¼€å§‹è‡ªåŠ¨æœç´¢ï¼Œè€Œä¸æ˜¯å›è½¦åæ‰å¼€å§‹
set incsearch    " search as you type

" Sets how many lines of history VIM has to remember
" å‘½ä»¤çš„å†å²å’Œæœ€è¿‘çš„æœç´¢æ¨¡å¼çš„å†å²ä¼šè¢«è®°ä½ï¼Œæœ¬é€‰é¡¹å†³å®šæ¯ä¸ªå†å²åˆ†åˆ«è®°ä½å¤šå°‘é¡¹
set history=1000

" æ–‡ä»¶åœ¨Vimå¤–è¢«æ”¹åŠ¨æ—¶è‡ªåŠ¨é‡æ–°è¯»å…¥ï¼›ä½†æ–‡ä»¶åœ¨å¤–éƒ¨è¢«åˆ é™¤åˆ™ä¸é‡æ–°è¯»å…¥
set autoread

" å…‰æ ‡ä¸Šä¸‹ç§»åŠ¨æ—¶ï¼Œå±å¹•ä¸Šä¿ç•™çš„æœ€å°‘å±å¹•è¡Œæ•°
set scrolloff=1

" å¢å¼ºæ¨¡å¼å‘½ä»¤è¡Œè¡¥å…¨ï¼ŒæŒ‰ä¸‹wildchar(é»˜è®¤<Tab>)å¯åŠ¨è¡¥å…¨
set wildmenu

" Height of the command bar
"set cmdheight=2
" å‘½ä»¤è¡Œçª—å£é«˜åº¦(å±å¹•è¡Œæ•°)
set cmdwinheight=20

" A buffer becomes hidden when it is abandoned
set hidden

" ä½¿æŒ‡å®šçš„å·¦å³ç§»åŠ¨å…‰æ ‡çš„é”®åœ¨è¡Œé¦–æˆ–è¡Œå°¾å¯ä»¥ç§»åˆ°å‰ä¸€è¡Œæˆ–è€…åä¸€è¡Œã€‚
" å¦‚æœè®¾ç½®è¿™äº›ä¸‹é¢è¿™äº›å­—ç¬¦ï¼Œåˆ™ç›¸åº”çš„é”®å…·æœ‰æ­¤åŠŸèƒ½:
"     å­—ç¬¦  é”®       æ¨¡å¼
"     b     <BS>     æ™®é€šå’Œå¯è§†
"     s     <Space>  æ™®é€šå’Œå¯è§†
"     h     'h'      æ™®é€šå’Œå¯è§† (ä¸å»ºè®®)
"     l     'l'      æ™®é€šå’Œå¯è§† (ä¸å»ºè®®)
"     <     <Left>   æ™®é€šå’Œå¯è§†
"     >     <Right>  æ™®é€šå’Œå¯è§†
"     ~     '~'      æ™®é€š
"     [     <Left>   æ’å…¥å’Œæ›¿æ¢
"     ]     <Right>  æ’å…¥å’Œæ›¿æ¢
" ä¾‹å¦‚ï¼š:set ww=<,>,[,]ï¼Œåªå…è®¸å…‰æ ‡é”®è¿›è¡Œå›ç»•ã€‚
" æ³¨æ„ï¼š
"     1ï¼‰å¦‚æœè®¾ç½®äº†hã€lï¼Œåˆ™å’Œåˆ é™¤ã€æ”¹å˜æ“ä½œç¬¦ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œ<EOL>ä¹Ÿè¢«çœ‹ä½œä¸€ä¸ªå­—ç¬¦ã€‚
"        è¿™ä½¿å¾—å…‰æ ‡è·¨è¿‡è¡Œå°¾æ—¶ï¼Œ'3h'å’Œ'3dh'æ•ˆæœä¸åŒã€‚è¿™ä¹Ÿé€‚ç”¨äº'x'å’Œ'X'ï¼Œå› ä¸ºå®ƒ
"        ä»¬åˆ†åˆ«å’Œ'dl'ä»¥åŠ'dh'ç›¸åŒã€‚å¦‚æœè¿™ä¹ˆç”¨ï¼Œä½ å¯èƒ½æƒ³ç”¨æ˜ å°„':map <BS> X'æ¥ä½¿
"        é€€æ ¼é”®åˆ é™¤å…‰æ ‡ä¹‹å‰çš„å­—ç¬¦ã€‚
"     2ï¼‰å¦‚æœè®¾ç½®äº†â€™lâ€™ï¼Œä½äºè¡Œå°¾æ—¶å¦‚æœåœ¨æ“ä½œç¬¦ä¹‹åä½¿ç”¨å®ƒï¼Œä¸ä¼šç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œã€‚è¿™
"        æ ·'dl'ã€'cl'ã€'yl' ç­‰éƒ½èƒ½æ­£å¸¸å·¥ä½œã€‚
" è¯¥é€‰é¡¹Vimçš„é»˜è®¤å€¼ä¸ºâ€b,sâ€œ
set whichwrap=<,>,[,],h,l

" Ignore case when searching
set ignorecase

" When searching try to be smart about cases
set smartcase

" Don't redraw while executing macros (good performance config)
set lazyredraw

" Show matching brackets when text indicator is over them
set showmatch
" How many tenths of a second to blink when matching brackets
set matchtime=1

" No annoying sound on errors
set noerrorbells
set novisualbell
if !has('gui_running')
    set t_vb=
endif
set timeoutlen=800

" don't add two spaces after ., ?, !
set nojoinspaces

" å®šä¹‰ä½¿ç”¨<C-A>å’Œ<C-X>(Windowsä¸‹å·²åˆ†åˆ«æ”¹ä¸º<C-I>å’Œ<C-D>)å‘½ä»¤åŠ å‡æ•°å€¼æ—¶ä½¿ç”¨çš„
" åŸºåº•ï¼šalphaï¼Œå¦‚æœåŒ…å«ï¼Œå•ä¸ªå­—æ¯ä¼šè¢«é€’å¢å’Œé€’å‡ï¼Œè¿™å¯ç”¨äºä½¿ç”¨å­—æ¯ç´¢å¼•çš„åˆ—è¡¨
" a)ã€b)ç­‰ç­‰ï¼›octalï¼Œå¦‚æœåŒ…å«ï¼Œé›¶å¼€å§‹çš„æ•°å€¼è®¤ä¸ºæ˜¯å…«è¿›åˆ¶ï¼Œå¦‚åœ¨"007"ä¸Šç”¨C-A
" å¾—åˆ°"010"ï¼›hexï¼Œå¦‚æœåŒ…å«ï¼Œ"0x"æˆ–"0X"å¼€å¤´çš„æ•°å€¼è®¤ä¸ºæ˜¯åå…­è¿›åˆ¶ï¼Œå¦‚åœ¨"0x100"
" ä¸Šç”¨C-Xå¾—åˆ°"0x0ff"ã€‚ä»¥1-9å¼€å§‹çš„æ•°å€¼æ€»è¢«è®¤ä¸ºæ˜¯åè¿›åˆ¶çš„ã€‚octalä¸hexé»˜è®¤åŒ…å«ã€‚
set nrformats+=alpha
set nrformats-=octal
 
" Default Colors for CursorLine
"highlight CursorLineNr guifg=red

" è¿™ä¸€è¡Œè·ŸæŸæœªçŸ¥è„šæœ¬æœ‰å†²çªï¼Œæ”¾åˆ°
" colorshcemeæ–‡ä»¶(desert.vim)ä¸­æ‰è§£å†³
"highlight LineNr guifg=Brown

" é«˜äº®æ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨è¡Œ
set cursorline
" é«˜äº®æ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨åˆ—ã€ç®€å†™ï¼šè®¾ç½® cucï¼›å–æ¶ˆ nocucã€‘
"set cursorcolumn

" Change Color when entering Insert Mode
" au[tocmd] [group] {event} {pat} [nested] {cmd}ï¼šæŠŠ{cmd}åŠ åˆ°Vimåœ¨åŒ¹é…{pat}
" æ¨¡å¼çš„æ–‡ä»¶æ‰§è¡Œ{event}äº‹ä»¶æ—¶è‡ªåŠ¨æ‰§è¡Œçš„å‘½ä»¤åˆ—è¡¨ä¸­ã€‚Vimæ€»æŠŠ{cmd}åŠ åˆ°å·²æœ‰çš„
" è‡ªåŠ¨å‘½ä»¤ä¹‹åï¼Œè¿™æ ·ä¿è¯è‡ªåŠ¨å‘½ä»¤çš„æ‰§è¡Œé¡ºåºä¸å…¶å®šä¹‰çš„é¡ºåºç›¸åŒã€‚
autocmd InsertEnter * highlight LineNr guifg=Red
autocmd InsertEnter * set cursorcolumn
"autocmd InsertEnter * highlight statusline guifg=Red

" Revert Color to default when leaving Insert Mode
autocmd InsertLeave * highlight LineNr guifg=#909194
autocmd InsertLeave * set nocursorcolumn
"autocmd InsertLeave * highlight statusline guifg=NONE

" ä¸‹åˆ—ç§»åŠ¨å‘½ä»¤ç§»åŠ¨å…‰æ ‡æ—¶ï¼Œä¸å›åˆ°è¡Œé¦–ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦,
" è€Œæ˜¯å°½é‡ä¿æŒåœ¨åŒä¸€åˆ—ä¸Š(å¦‚æœå¯èƒ½çš„è¯)ï¼š
" C-Bã€C-Fã€C-Dã€C-Uã€Gã€Hã€Mã€Lã€ggã€dã€<<ã€>>ã€å¸¦è®¡æ•°çš„%ã€
" ç¼“å†²åŒºæ”¹å˜å‘½ä»¤(CTRL-^ã€:bnextã€:bNextç­‰)ã€:25ã€:+ã€:-ç­‰
set nostartofline

" é…ç½®å¤šè¯­è¨€ç¯å¢ƒï¼Œè§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜
if has("multi_byte")
    " Vimå†…éƒ¨ä½¿ç”¨çš„ç¼–ç  
    set encoding=utf-8
    " Windowsä¸‹çš„gVimå…¶é”®ç›˜è¾“å…¥å’Œå±å¹•æ˜¾ç¤ºå‡ä¸ä¾èµ–termencoding
    set termencoding=utf-8
    " è‡ªåŠ¨æ’ç‰ˆæ—¶çš„æ ¼å¼é€‰é¡¹
    " mï¼šè¡¨ç¤ºå¯ä»¥åœ¨ä»»ä½•å€¼é«˜äº255çš„å¤šå­—èŠ‚å­—ç¬¦ä¸Šåˆ†è¡Œã€‚è¿™å¯¹äºšæ´²æ–‡æœ¬å°¤å…¶æœ‰ç”¨ï¼Œå› ä¸º
    "    æ¯ä¸ªå­—ç¬¦éƒ½æ˜¯å•ç‹¬çš„å•ä½
    " Mï¼šåœ¨è¿æ¥è¡Œæ—¶ï¼Œä¸è¦åœ¨å¤šå­—èŠ‚å­—ç¬¦ä¹‹å‰æˆ–ä¹‹åæ’å…¥ç©ºæ ¼ã€‚ä¼˜å…ˆäºBæ ‡å¿—ä½
    " Bï¼šåœ¨è¿æ¥è¡Œæ—¶ï¼Œä¸è¦åœ¨ä¸¤ä¸ªå¤šå­—èŠ‚å­—ç¬¦ä¹‹é—´æ’å…¥ç©ºæ ¼ã€‚æœ‰Mæ ‡å¿—ä½æ—¶æ— æ•ˆ
    set formatoptions+=mM
    " è¯»æ–‡ä»¶æ—¶Vimè‡ªåŠ¨ä¾¦æµ‹æ–‡ä»¶ç¼–ç æ–¹å¼çš„ç¼–ç åˆ—è¡¨é¡¹ï¼Œ
    " ä¸‹é¢åˆ—è¡¨é¡¹ä¸­çš„prc(ç­‰åŒäºchinese)æ˜¯Windowsä¸‹çš„cp936ã€Unixä¸‹çš„euc-cnçš„åˆ«å
    " ï¼ˆEUCï¼šExtended Unix Codeï¼›EUC-CNæ˜¯GB2312çš„åˆ«åï¼‰ï¼›
    " taiwanæ˜¯big5çš„åˆ«åï¼›japanã€koreaåˆ†åˆ«æ˜¯æ—¥æœ¬ã€éŸ©å›½å¸¸ç”¨çš„ANSIå­—ç¬¦ç¼–ç åˆ«åï¼›
    " ä¹‹æ‰€ä»¥ä¸å†™cp936æˆ–euc-cnï¼Œè€Œå†™prcï¼ˆæˆ–Chineseï¼‰ï¼Œæ˜¯å› ä¸ºè·¨å¹³å°æ€§æ›´å¥½
    set fileencodings=ucs-bom,utf-8,prc,gb18030,taiwan,japan,korea,latin1
    " å¤„ç†CJKä¸œäºšäºŒä¹‰æ€§å®½åº¦å­—ç¬¦ç±» (East Asian Width Class Ambiguous)
    " ä¾‹å¦‚ï¼Œæ¬§å…ƒç¬¦å·ã€æ³¨å†Œè®°å·ã€ç‰ˆæƒè®°å·ã€å¸Œè…Šå­—æ¯ã€è¥¿é‡Œå°”å­—æ¯ç­‰ç­‰
    if v:lang=~? '^/(zh/)/|/(ja/)/|/(ko/)'
        set ambiwidth=double
    endif
    if has("win32") || has("win64")
        " è§£å†³Windowsç‰ˆçš„èœå•ä¹±ç é—®é¢˜
        source $VIMRUNTIME/delmenu.vim
        source $VIMRUNTIME/menu.vim
        " è§£å†³Windowsç‰ˆconsoleè¾“å‡ºä¹±ç é—®é¢˜
        language messages zh_CN.utf-8
    endif
else
    echoerr "Sorry, this version of (g)vim was not compiled with +multi_byte"
endif

" æ”¹é…è‰²ï¼Œé»˜è®¤çš„ç™½è‰²å¤ªè¿‡åˆºçœ¼
" colorschemeæ–‡ä»¶ä½äºvimå®‰è£…ç›®å½•ä¸‹çš„colorsæ–‡ä»¶å¤¹ä¸­ï¼Œæ¯”å¦‚ï¼š
" C:\Program Files (x86)\Vim\vim80\colors\dracula.vim
"colorscheme desert 
"colorscheme morning
"colorscheme evening
colorscheme dracula  |" é€šè¿‡vim-plugå®‰è£…ï¼Œæˆ–æ‰‹åŠ¨å°†dracula.vimå¤åˆ¶åˆ°colorsç›®å½•ä¸­

" ä½¿ç”¨è‰²å½©æ–¹æ¡ˆ(å³é«˜äº®æ–¹æ¡ˆ)çš„Todoé«˜äº®ç»„æ¥é«˜äº®æŒ‡å®šçš„å…³é”®è¯ï¼Œå¦‚NOTEã€WARNINGç­‰
autocmd ColorScheme * call matchadd('Todo', '\W\zs\(Note:\|Notice:\|Warning:\|
        \Danger:\|NOTE\|NOTICE\|WARNING\|DANGER\|æ³¨æ„ï¼š\|æ³¨ï¼š\)')

" Find out to which highlight-group a particular keyword/symbol belongs
" :com[mand][!] [{attr}...] {cmd} {rep}
"     å®šä¹‰ä¸€ä¸ªç”¨æˆ·å‘½ä»¤ã€‚å‘½ä»¤çš„åå­—æ˜¯ {cmd}ï¼Œè€Œæ›¿æ¢çš„æ–‡æœ¬æ˜¯{rep}ã€‚è¯¥å‘½ä»¤çš„å±æ€§
"     (å‚è€ƒä¸‹é¢)æ˜¯ {attr}ã€‚å¦‚æœè¯¥å‘½ä»¤å·²å­˜åœ¨ï¼ŒæŠ¥é”™ï¼Œé™¤éå·²ç»æŒ‡å®šäº†ä¸€ä¸ª !ï¼Œè¿™ç§
"     æƒ…å†µä¸‹å‘½ä»¤è¢«é‡å®šä¹‰ã€‚
"     Note: ä½¿ç”¨":command!"æ¥è¦†ç›–ç°å­˜çš„ç”¨æˆ·å‘½ä»¤æ˜¯ä¸ªåä¸»æ„ã€‚è¿™å¾ˆå¯èƒ½ä½¿ç”¨æˆ·ä¸æ˜
"           ç™½è‡ªå·±å®šä¹‰çš„å‘½ä»¤ä¸ºä»€ä¹ˆä¸èµ·ä½œç”¨ã€‚
command! Wcolor echo "hi<" . synIDattr(synID(line("."),col("."),1),"name") .
            \ "> trans<" . synIDattr(synID(line("."),col("."),0),"name") .
            \ "> lo<" . synIDattr(synIDtrans(synID(line("."),col("."),1)),"name") .
            \ "> fg:" . synIDattr(synIDtrans(synID(line("."),col("."),1)),"fg#")

" æ ¹æ®å®˜æ–¹æ–‡æ¡£çš„è¯´æ˜ï¼Œä¸‹é¢çš„filetypeè®¾ç½®å¿…é¡»æ”¾åœ¨syntax onè¯­å¥ä¹‹å‰ï¼Œ
" æ‰èƒ½ä½¿å¾—syntax onè¯­å¥æ‰“å¼€çš„è¯­æ³•é«˜äº®æ•ˆæœç”Ÿæ•ˆ
" å‘½ä»¤                         æ£€æµ‹    plugin  indent
" :filetype on                 æ‰“å¼€    æœªæ”¹å˜  æœªæ”¹å˜
" :filetype off                å…³é—­    æœªæ”¹å˜  æœªæ”¹å˜
" :filetype plugin on          æ‰“å¼€    æ‰“å¼€    æœªæ”¹å˜
" :filetype plugin off         æœªæ”¹å˜  å…³é—­    æœªæ”¹å˜
" :filetype indent on          æ‰“å¼€    æœªæ”¹å˜  æ‰“å¼€
" :filetype indent off         æœªæ”¹å˜  æœªæ”¹å˜  å…³é—­
" :filetype plugin indent on   æ‰“å¼€    æ‰“å¼€    æ‰“å¼€
" :filetype plugin indent off  æœªæ”¹å˜  å…³é—­    å…³é—­
"filetype on
"filetype plugin on
" ä¸‹é¢è¯­å¥çš„å«ä¹‰æ˜¯ï¼šä¸ºç‰¹å®šçš„æ–‡ä»¶ç±»å‹åŠ è½½ç›¸åº”çš„æ’ä»¶å’Œç¼©è¿›æ–‡ä»¶
filetype plugin indent on
" æ‰“å¼€è¯­æ³•é«˜äº®åŠŸèƒ½(draculaé¢œè‰²æ–¹æ¡ˆéœ€è¦æ‰“å¼€)
" syntax onä¼šè¦†ç›–å·²æœ‰çš„é¢œè‰²ï¼Œè€Œsyntax enableä¼šä¿æŒå½“å‰å·²æœ‰çš„è‰²å½©è®¾ç½®ï¼Œ
" åªè®¾ç½®æ²¡æœ‰è®¾ç½®è¿‡çš„ç»„ï¼›è¿™æ ·ä¸ç®¡åœ¨ä½¿ç”¨æ­¤å‘½ä»¤çš„å‰åï¼Œéƒ½å¯è®¾ç½®è‡ªå·±å–œæ¬¢çš„é¢œè‰²ã€‚
syntax on
if has('syntax') && !exists('g:syntax_on')
  syntax enable
endif

" Specify the behavior when switching between buffers
" tryå’Œendtryï¼šæ”¹å˜tryå’Œendtryä¹‹é—´å‘½ä»¤çš„é”™è¯¯å¤„ç†ï¼ŒåŒ…æ‹¬æ‰€æœ‰
" æ‰§è¡Œçš„å†…å®¹ã€sourceé‡Œçš„å‘½ä»¤ã€å‡½æ•°è°ƒç”¨ã€è‡ªåŠ¨å‘½ä»¤çš„æ¿€æ´»ç­‰ã€‚
" cat[ch] /{pattern}/ï¼šåŒ¹é…{pattern}çš„ä¾‹å¤–æŠ›å‡ºæ—¶ï¼Œå¦‚æœå®ƒæ²¡æœ‰è¢«å‰ä¸€ä¸ª
" catchæ•è·ï¼Œåˆ™æ‰§è¡Œæœ¬è¯­å¥ä¹‹åçš„å‘½ä»¤ï¼Œç›´åˆ°é‡åˆ°å’Œæœ¬catchå¤„äºåŒä¸€tryå—çš„
" ä¸‹ä¸€ä¸ªcatchã€finallyæˆ–è€…endtryä¸ºæ­¢ã€‚å¦åˆ™ï¼Œè¿™äº›å‘½ä»¤è¢«è·³è¿‡ã€‚
" è‹¥æ²¡æœ‰æä¾›{pattern}ï¼Œæ‰€æœ‰çš„é”™è¯¯éƒ½ä¼šè¢«æ•è·ã€‚
try
    " æ§åˆ¶ç¼“å†²åŒºåˆ‡æ¢çš„è¡Œä¸ºï¼›
    " useopenï¼Œè·³åˆ°ç¬¬ä¸€ä¸ªæ‰“å¼€çš„åŒ…å«æŒ‡å®šç¼“å†²åŒºçš„çª—å£(å¦‚æœæœ‰çš„è¯)ï¼›
    " usetabï¼Œç±»ä¼¼äºuseopenï¼Œä½†ä¹Ÿè€ƒè™‘å…¶å®ƒæ ‡ç­¾é¡µé‡Œçš„çª—å£ï¼›
    " splitï¼Œåœ¨è½½å…¥ç”¨äºåœ¨quickfixå‘½ä»¤é‡Œæ˜¾ç¤ºé”™è¯¯çš„ç¼“å†²åŒºä¹‹å‰åˆ†å‰²å½“å‰çª—å£ï¼›
    " newtabï¼Œç±»ä¼¼äºsplitï¼Œä½†æ‰“å¼€æ–°æ ‡ç­¾é¡µï¼Œè‹¥å’ŒsplitåŒæ—¶å­˜åœ¨ï¼Œæœ¬å€¼ä¼˜å…ˆã€‚
    set switchbuf=useopen,usetab,newtab
    " é»˜è®¤å€¼ä¸º1ï¼Œå³å¤šäºä¸€ä¸ªæ ‡ç­¾é¡µæ‰æ˜¾ç¤ºæ ‡ç­¾æ 
    "set showtabline=2
catch
endtry

" Return to last edit position when opening files (You want this!)
autocmd BufReadPost *
     \ if line("'\"") > 0 && line("'\"") <= line("$") |
     \   exe "normal! g`\"" |
     \ endif
" Remember info about open buffers on close
" viminfoä¸­çš„%å‚æ•°ï¼šä¿å­˜å’Œæ¢å¤ç¼“å†²åŒºåˆ—è¡¨ï¼›Vimå¯åŠ¨æ—¶è‹¥æœ‰æ–‡ä»¶åå‚æ•°ï¼Œ
" ç¼“å†²åŒºåˆ—è¡¨ä¸äºˆæ¢å¤ï¼Œè‹¥æ²¡æœ‰æ–‡ä»¶åå‚æ•°ï¼Œç¼“å†²åŒºåˆ—è¡¨ä»viminfoæ–‡ä»¶é‡Œæ¢å¤ï¼›
" æ²¡æœ‰æ–‡ä»¶åçš„ç¼“å†²åŒºå’Œå¸®åŠ©æ–‡ä»¶çš„ç¼“å†²åŒºä¸ä¼šå†™å…¥viminfoæ–‡ä»¶ï¼›è‹¥åè·Ÿæ•°å€¼ï¼Œ
" è¯¥æ•°å€¼æŒ‡å®šä¿å­˜çš„ç¼“å†²åŒºçš„æœ€å¤§ä¸ªæ•°ï¼Œè‹¥æ²¡è·Ÿæ•°å€¼ï¼Œåˆ™ä¿å­˜æ‰€æœ‰çš„ç¼“å†²åŒºã€‚
" se[t] {option}^={value}ï¼šæŠŠ{value}ä¹˜åˆ°æ•°å€¼é€‰é¡¹é‡Œï¼Œæˆ–è€…é™„åŠ åˆ°å­—ç¬¦ä¸²é€‰
" é¡¹ä¹‹å‰ã€‚è‹¥é€‰é¡¹æ˜¯é€—å·åˆ†éš”çš„åˆ—è¡¨ï¼Œé™¤éåŸå€¼ä¸ºç©ºï¼Œå¦åˆ™ä¼šè‡ªåŠ¨åŠ ä¸Šä¸€ä¸ªé€—å·ã€‚
set viminfo^=%
" !è¡¨ç¤ºä¿å­˜å’Œæ¢å¤å¤§å†™å­—æ¯å¼€å¤´ï¼Œå¹¶ä¸”ä¸åŒ…å«å°å†™å­—æ¯çš„å…¨å±€å˜é‡ã€‚
" è¿™æ ·ï¼Œä¿å­˜ 'KEEPTHIS' å’Œ 'K_L_M'ï¼Œä½†ä¸ä¿å­˜ 'KeepThis' å’Œ
" _K_L_M"ã€‚ä¸èƒ½æ­£ç¡®è¯»å›åµŒå¥—çš„åˆ—è¡¨å’Œå­—å…¸å€¼ï¼Œå®ƒä»¬å˜æˆç©ºå€¼ã€‚
"set viminfo^=!

" æ·»åŠ è¡Œå·
set number
" ä½¿ç”¨ç›¸å¯¹è¡Œå·
set relativenumber

if has('gui_running')
    " è®¾ç½®çª—å£å¯åŠ¨ä½ç½®ï¼šxè½´ yè½´ã€å·¦ä¸Šè§’ä¸ºï¼šx=0 y=0ã€‘
    "winpos 930 675
    " è®¾ç½®çª—å£å¤§å°ï¼šè¡Œå’Œåˆ—
    "let windowlines=25
    "let windowcolumns=86
    "set lines=25
    "set comlumns=86
    "set lines=&windowlines columns=&windowcolumns
    "set lines=25 columns=86

    " Toggle Menu and Toolbar åˆ‡æ¢æœ‰æ— èœå•æ ã€å·¥å…·æ å’Œæ»šåŠ¨æ¡
    set guioptions-=m  |" mï¼Œèœå•æ 
    set guioptions-=T  |" Tï¼Œå·¥å…·æ 
    set guioptions-=r  |" rï¼Œå³è¾¹æ»šåŠ¨æ¡
    set guioptions-=L  |" Lï¼Œå‚ç›´åˆ†å‰²çª—å£æ—¶å·¦è¾¹æ»šåŠ¨æ¡
    " =~#ï¼š=~ï¼ŒåŒ¹é…æ¨¡å¼è¿ç®—ç¬¦ï¼Œ#å¤§å°å†™æ•æ„Ÿï¼Œå³ä½¿å·²è®¾ç½®äº†ignorecase
    " <Bar>ï¼Œå³Exå‘½ä»¤åˆ†éš”ç¬¦|ï¼›\ä¸ºç»­è¡Œç¬¦(é•¿è¡Œæ¥ç»­ç¬¦)
    map <F4> :if &guioptions=~# 'T' <Bar>
            \set guioptions-=T <Bar>
            \set guioptions-=m <Bar>
            \set guioptions-=r <Bar>
            \set guioptions-=L <Bar>
        \else <Bar>
            \set guioptions+=T <Bar>
            \set guioptions+=m <Bar>
            \set guioptions+=r <Bar>
            \set guioptions+=L <Bar>
        \endif<CR>

    " ä¸€é”®åˆ‡æ¢çª—å£æœ€å¤§åŒ–ã€è¿˜åŸçª—å£å¤§å°
    map <F11> :call ToggleWindowSize()<CR>

    " VimEnteräº‹ä»¶(åšå®Œæ‰€æœ‰å¯åŠ¨ä»»åŠ¡ï¼ŒåŒ…æ‹¬è½½å…¥.vimrcæ–‡ä»¶ã€æ‰§è¡Œ"-c cmd"å‚æ•°ã€
    " åˆ›å»ºæ‰€æœ‰çª—å£å¹¶åœ¨å…¶ä¸­è½½å…¥æ‰€æœ‰ç¼“å†²åŒº)ä¹‹åï¼Œæœ€å¤§åŒ–çª—å£ã€‚
    " simaltå‘½ä»¤å‘Šè¯‰Vim(winaltkeysä¸è¦è®¾ç½®ä¸ºyes)è™šæ‹Ÿä¸€ä¸ªWindowsé£æ ¼çš„AltæŒ‰é”®è¡Œä¸ºï¼Œ
    " è¿™æ ·å¯ä»¥ç”¨å®ƒæ¥æ˜ å°„Altç»„åˆé”®(æˆ–è€…ä»»ä½•å…¶å®ƒé”®)æ¥äº§ç”Ÿæ ‡å‡†çš„Windowsæ“ä½œï¼Œä»¥ä¾¿äº
    " åœ¨Windowsä¸­å³ä½¿ç¦ç”¨Alt-{key}è®¿é—®èœå•çš„æ ‡å‡†æ–¹æ³•(winaltkeysè®¾ç½®ä¸ºno)ï¼Œ
    " ä¹Ÿèƒ½é€šè¿‡simaltæ¥æ¨¡æ‹Ÿè®¿é—®èœå•ï¼›å…¶ä¸­ï¼Œ~åœ¨simaltå‘½ä»¤ä¸­ä»£è¡¨ç©ºæ ¼<Space>ã€‚
    autocmd VimEnter * simalt ~x
    let s:window_max_status=1

    " å¯è§†æ¨¡å¼ä¸‹é€‰æ‹©æ–‡æœ¬æ—¶å³ä½¿ä¸è¿›è¡Œå¤åˆ¶ã€åˆ é™¤ç­‰æ“ä½œï¼Œ
    " ä¹Ÿè‡ªåŠ¨å°†é€‰æ‹©æ–‡æœ¬ä¿å­˜åˆ°"*å¯„å­˜å™¨(å³ç³»ç»Ÿå‰ªè´´æ¿å¯„å­˜å™¨ï¼Œ
    " windowsç³»ç»Ÿä¸­ï¼Œä¸"+å¯„å­˜å™¨ç­‰åŒ)ï¼Œå› æ­¤å¯å°‘ä¸€ä¸ªæ­¥éª¤
    "set guioptions+=a
    " æŒ‡å®šVimçª—å£é¡¶éƒ¨æ¯ä¸ªæ ‡ç­¾é¡µæ ‡ç­¾çš„å†…å®¹ 
    set guitablabel=%M\ %t
endif

" %é»˜è®¤åŒ¹é…()ã€[]ã€{}ï¼Œå¢åŠ åŒ¹é…<>å’Œä¸­æ–‡åœ†æ‹¬å·ï¼ˆï¼‰(å³å…¨è§’åœ†æ‹¬å·)
set matchpairs+=<:>,ï¼ˆ:ï¼‰

" Automatically write a file when leaving a modified buffer
"set autowrite
"set autowriteall
" æ™®é€šæ¨¡å¼ä¸‹å½“å‰ç¼“å†²åŒºæ–‡æœ¬ä¿®æ”¹ã€é€€å‡ºæ’å…¥æ¨¡å¼ã€ç¦»å¼€ç¼“å†²åŒºã€å¤±å»ç„¦ç‚¹æ—¶ï¼Œè‡ªåŠ¨ä¿å­˜æ–‡ä»¶
"autocmd TextChanged,InsertLeave * update
autocmd InsertLeave * update
autocmd BufLeave,FocusLost * wall

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"" è‡ªåŠ¨ä¿å­˜çŠ¶æ€(è‡ªåŠ¨ä¿å­˜ã€è¯»å–ã€æ‰§è¡Œsessionä¼šè¯æ–‡ä»¶å’Œviewè§†å›¾æ–‡ä»¶)
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" ä¼šè¯ï¼šä¼šè¯ä¿å­˜æ‰€æœ‰çª—å£çš„è§†å›¾ï¼Œå¤–åŠ å…¨å±€è®¾ç½®ã€‚ä½ å¯ä»¥ä¿å­˜ä¼šè¯ï¼Œå¹¶åœ¨ä»¥åæ¢å¤ä¹‹ï¼Œ
" ä½¿å¾—çª—å£çš„å¸ƒå±€çœ‹èµ·æ¥ä¸€æ ·ã€‚å¯ä»¥åˆ›å»ºä¼šè¯åœ¨ä¸åŒçš„é¡¹ç›®ä¹‹é—´å¿«é€Ÿåˆ‡æ¢ï¼Œåˆ‡æ¢æ—¶è‡ªåŠ¨è°ƒ
" å…¥ä¸Šæ¬¡åœ¨é‚£ä¸ªé¡¹ç›®ä¸Šå·¥ä½œçš„æ–‡ä»¶ã€‚

" è§†å›¾ï¼šä¼šè¯è®°å½•å‚¨å­˜æ•´ä¸ªVimçª—å£å¤–è§‚ã€‚å½“åªéœ€è¦ä¸ºæŸä¸ªçª—å£å‚¨å­˜ç‰¹æ€§æ—¶ï¼Œå¾—ç”¨è§†å›¾ã€‚
" è§†å›¾çš„ç”¨å¤„åœ¨äºä½ è¦ä»¥æŸç§ç‰¹å®šçš„æ–¹å¼ç¼–è¾‘ä¸€ä¸ªæ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œä½ ä»¥ â€™numberâ€™ é€‰é¡¹æ˜¾
" ç¤ºäº†è¡Œå·ï¼Œå¹¶å®šä¹‰äº†è‹¥å¹²æŠ˜å ã€‚æ­£å¦‚ä¼šè¯è®°å½•é‚£æ ·ï¼Œä½ å¯ä»¥è®°ä½è¿™ä¸€è§†å›¾å¹¶åœ¨ä»¥åè¿˜
" åŸå›æ¥ã€‚äº‹å®ä¸Šï¼Œå½“ä½ å‚¨å­˜ä¼šè¯æ—¶ï¼Œæ¯ä¸ªçª—å£çš„è§†å›¾éƒ½å‚¨å­˜äº†ã€‚

" æ³¨æ„ï¼šä¼šè¯è®°å½•å‚¨å­˜äº†ä¸å°‘ä¸œè¥¿ï¼Œä½†ä¸å‚¨å­˜æ ‡è®°ä½ç½®ï¼Œå¯„å­˜å™¨å†…å®¹ä»¥åŠå‘½ä»¤è¡Œå†å²è®°å½•
" ä½ éœ€è¦åˆ©ç”¨Vimä¿¡æ¯æ–‡ä»¶viminfoå‚¨å­˜è¿™äº›ä¿¡æ¯ã€‚

" æŒ‡å®šä¼šè¯æ–‡ä»¶çš„ä¿å­˜è·¯å¾„å’Œæ–‡ä»¶å(å¦‚æœä¸æä¾›æ–‡ä»¶åï¼Œä¼šä¿å­˜ä¸ºSession.vim)
let s:sessionfile='~/.vim/session.vim'

"" sesstionoptionsï¼šæ”¹å˜mksessionå‘½ä»¤çš„æ•ˆæœã€‚è¿™æ˜¯é€—å·åˆ†éš”çš„å•è¯åˆ—è¡¨ï¼Œ
"" æ¯ä¸ªå•è¯å…è®¸ä¿å­˜å’Œæ¢å¤æŸç§è®¾ç½®ï¼šcurdirï¼Œå½“å‰ç›®å½•ï¼›sesdirï¼Œå°†session
"" ä¼šè¯æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•åˆ‡æ¢æˆå½“å‰ç›®å½•
""set sessionoptions-=resize
""set sessionoptions+=sesdir
"set sessionoptions+=winpos,globals
"" mks[ession][!] [file]ï¼šå†™å…¥ä¸€ä¸ªVimè„šæœ¬ï¼Œè¯¥è„šæœ¬èƒ½å¤Ÿæ¢å¤å½“å‰çš„ç¼–è¾‘ä¼šè¯ï¼›
"" å¦‚æœåŒ…å«[!]ï¼Œå·²æœ‰çš„æ–‡ä»¶ä¼šè¢«è¦†ç›–ã€‚è‹¥ä¸æä¾›[file]ï¼Œé»˜è®¤ä¿å­˜ä¸º"session.vim"ã€‚
"" æ³¨æ„ï¼šè‹¥æä¾›[file]ï¼Œä¸èƒ½åŠ .vimæ‰©å±•ååç¼€ï¼Œå¦åˆ™å‡ºé”™(vimä¼šè‡ªåŠ¨åŠ )
"autocmd VimLeave * mksession!
"autocmd VimEnter * :call s:ReadSession()
" do not store global and local values in a session
set sessionoptions-=options
"set sessionoptions-=curdir
"set sessionoptions+=sesdir
" do not store empty windows(avoid nerdtree problem)
set sessionoptions-=blank
" slashï¼šæ–‡ä»¶åé‡Œçš„åæ–œæ è¢«æ›¿æ¢æˆæ­£æ–œæ 
" unixï¼šä½¿ç”¨Unixæ¢è¡Œæ ¼å¼(å•ä¸ª<NL>)ï¼Œå³ä½¿åœ¨Windowsæˆ–DOSä¸Šä¹Ÿæ˜¯å¦‚æ­¤
" slashå’Œunixå¯ç”¨äºWindowsç³»ç»Ÿä¸­ï¼Œå¦‚æœè¦å’ŒUnixå…±äº«ä¼šè¯æ–‡ä»¶çš„è¯ã€‚Unixç‰ˆæœ¬çš„
" Vimä¸èƒ½æ‰§è¡Œdosæ ¼å¼çš„è„šæœ¬ï¼Œä½†æ˜¯Windowsç‰ˆæœ¬çš„Vimå¯ä»¥æ‰§è¡Œunixç‰ˆæœ¬çš„è„šæœ¬ã€‚
set sessionoptions+=slash,unix

" auto change session in heavy GUI
if has('gui_running')
    autocmd VimEnter * nested :call s:loadSession()
    autocmd VimLeave * :call s:updateSession()
endif

" save viminfo
" å¦‚æœä½ é€€å‡ºVimä»¥ååˆå†æ¬¡å¯åŠ¨ï¼Œé€šå¸¸ä½ ä¼šä¸¢å¤±è®¸å¤šä¿¡æ¯ã€‚viminfoæ–‡ä»¶å¯ä»¥ç”¨æ¥è®°ä½
" è¿™äº›ä¿¡æ¯ï¼Œä»è€Œå…è®¸ä½ ç»§ç»­ä¸Šæ¬¡é€€å‡ºçš„ç¼–è¾‘ã€‚(ç”¨æˆ·æ‰‹å†Œ 21.3 ä¸€èŠ‚æœ‰æ‰€ä»‹ç»)
" viminfoæ–‡ä»¶ç”¨æ¥ä¿å­˜:
"     - å‘½ä»¤è¡Œå†å²ã€‚
"     - æœç´¢å­—ç¬¦ä¸²å†å²ã€‚
"     - è¾“å…¥è¡Œå†å²ã€‚
"     - éç©ºçš„å¯„å­˜å™¨å†…å®¹ã€‚
"     - å¤šä¸ªæ–‡ä»¶çš„ä½ç½®æ ‡è®°ã€‚
"     - æ–‡ä»¶æ ‡è®°ï¼ŒæŒ‡å‘æ–‡ä»¶çš„ä½ç½®ã€‚
"     - æœ€è¿‘æœç´¢/æ›¿æ¢çš„æ¨¡å¼ (é€‚ç”¨äº â€™nâ€™ å’Œ â€™&â€™)ã€‚
"     - ç¼“å†²åŒºåˆ—è¡¨ã€‚
"     - å…¨å±€å˜é‡ã€‚
" æ³¨æ„ï¼šå¦‚æœ +viminfo ç‰¹æ€§åœ¨ç¼–è¯‘æ—¶å…³é—­ï¼Œä¸æ”¯æŒ viminfo æ–‡ä»¶ã€‚
" ä¸æ­¤åŒæ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¼šè¯æ–‡ä»¶ã€‚å·®åˆ«æ˜¯ï¼Œviminfo æ–‡ä»¶å¹¶ä¸ä¾èµ–äºä½ å·¥ä½œçš„å†…å®¹ã€‚é€š
" å¸¸ï¼Œåªæœ‰ä¸€ä¸ª viminfo æ–‡ä»¶ã€‚è€Œä¼šè¯æ–‡ä»¶ç”¨æ¥ä¿å­˜æŸä¸ªç¼–è¾‘ä¼šè¯çš„çŠ¶æ€ã€‚ä½ å¯ä»¥ä¿å­˜å¤š
" ä¸ªä¼šè¯æ–‡ä»¶ï¼Œæ¯ä¸ªé’ˆå¯¹ä¸€ä¸ªä½ å·¥ä½œçš„é¡¹ç›®ã€‚viminfo å’Œä¼šè¯æ–‡ä»¶ä¸€èµ·å¯ä»¥ç”¨æ¥æœ‰æ•ˆçš„è¿›å…¥
" Vim å¹¶ç›´æ¥ä»ä½ å¸Œæœ›çš„è®¾ç½®å¼€å§‹å·¥ä½œã€‚
"if !isdirectory(expand("~/.vim/viminfo"))
   "call mkdir($HOME . '/.vim/viminfo', 'p')
"endif
set viminfo+=n~/.vim/viminfo

" save view records
" slash:æ–‡ä»¶åé‡Œçš„åæ–œæ è¢«æ›¿æ¢æˆæ­£æ–œæ 
" unixï¼šä½¿ç”¨Unixæ¢è¡Œæ ¼å¼(å•ä¸ª<NL>)ï¼Œå³ä½¿åœ¨Windowsæˆ–DOSä¸Šä¹Ÿæ˜¯å¦‚æ­¤
" slashå’Œunixå¯ç”¨äºWindowsç³»ç»Ÿä¸­ï¼Œå¦‚æœè¦å’ŒUnixå…±äº«ä¼šè¯æ–‡ä»¶çš„è¯ã€‚Unixç‰ˆæœ¬çš„
" Vimä¸èƒ½æ‰§è¡Œdosæ ¼å¼çš„è„šæœ¬ï¼Œä½†æ˜¯Windowsç‰ˆæœ¬çš„Vimå¯ä»¥æ‰§è¡Œunixç‰ˆæœ¬çš„è„šæœ¬ã€‚
set viewoptions+=slash,unix
"exe 'set viewdir='. escape($VimStateSavedFiles, ' ') . '/view'
if !isdirectory(expand('~/.vim/viewfiles'))
    call mkdir($HOME . '/.vim/viewfiles', 'p')
endif
set viewdir=~/.vim/viewfiles

autocmd BufWinLeave * silent! mkview
autocmd BufWinEnter * silent! loadview

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" Files backups and undo
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" Turn backup off, since most stuff is in SVN, git et.c anyway...
"set nobackup
"set nowb
"set noswapfile
"
" Swap files are necessary when crash recovery
if !isdirectory(expand('~/.vim/swapfiles'))
    call mkdir($HOME . '/.vim/swapfiles', 'p')
endif
set dir=~/.vim/swapfiles//

" Persistent undo æŒä¹…åŒ–undoï¼šæ–‡ä»¶å…³é—­åå†æ‰“å¼€ä»å¯è¿›è¡Œæ’¤é”€æ“ä½œ(å³æ¢å¤ä¸Šæ¬¡æ“ä½œ)
set undofile
" maximum number of changes that can be undone
set undolevels=3000  " é»˜è®¤å€¼ä¸º1000ï¼Œè¯¥å€¼è¶Šå¤§è¶Šæ¶ˆè€—å†…å­˜
" maximum number lines to save for undo on a buffer reload
"set undoreload=10000 " æ­¤ä¸ºé»˜è®¤è®¾ç½®ï¼Œæ‰€ä»¥æ³¨é”€

if !isdirectory(expand('~/.vim/undofiles'))
    call mkdir($HOME . '/.vim/undofiles', 'p')
endif
set undodir=~/.vim/undofiles//

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" Text, tab and indent related
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" Use spaces instead of tabs
" æ’å…¥æ¨¡å¼ä¸­æ’å…¥<Tab>æ—¶ä½¿ç”¨åˆé€‚æ•°é‡çš„ç©ºæ ¼ï¼Œè¦æ’å…¥å®é™…çš„åˆ¶è¡¨ç¬¦æ—¶
" ç”¨CTRL-V<Tab>ï¼ˆåœ¨windowsä¸‹æ˜¯CTRL-Q<Tab>ï¼‰
set expandtab
" Be smart when using tabs ;)
" è¡Œé¦–çš„<Tab>æ ¹æ®shiftwidthæ’å…¥ç©ºç™½ï¼Œtabstopæˆ–softtabstopç”¨åœ¨åˆ«çš„åœ°æ–¹ï¼Œ
" <BS>åˆ é™¤è¡Œé¦–shiftwidthé‚£ä¹ˆå¤šçš„ç©ºç™½ï¼›è¯¥é€‰é¡¹è‹¥å…³é—­ï¼Œ<Tab>æ€»æ˜¯æ ¹æ®tabstop
" æˆ–softtabstopå†³å®šæ’å…¥ç©ºç™½çš„æ•°ç›®ï¼Œshiftwidthåªç”¨äºæ–‡æœ¬å·¦ç§»æˆ–å³ç§»ã€‚
" æ’å…¥ç©ºç™½çš„å…·ä½“æ–¹å¼ (åˆ¶è¡¨è¿˜æ˜¯ç©ºæ ¼) å–å†³äºexpandtabé€‰é¡¹ã€‚
set smarttab
" 1 tab == 4 spaces
set shiftwidth=4
set tabstop=4

" Linebreak on 500 characters
set lbr
" Auto indent
" å¼€å¯æ–°è¡Œæ—¶ (æ’å…¥æ¨¡å¼ä¸‹è¾“å…¥ <CR>ï¼Œæˆ–è€…ä½¿ç”¨ o æˆ– O å‘½ä»¤)ï¼Œä»å½“å‰è¡Œå¤
" åˆ¶ç¼©è¿›è·ç¦»ã€‚å¦‚æœä½ åœ¨æ–°è¡Œé™¤äº† <BS> æˆ– CTRL-D ä»¥å¤–ä¸è¾“å…¥ä»»ä½•ä¸œè¥¿ï¼Œç„¶åè¾“
" å…¥ <Esc>ã€CTRL-O æˆ– <CR>ï¼Œç¼©è¿›åˆè¢«åˆ é™¤ã€‚ç§»åŠ¨å…‰æ ‡åˆ°å…¶å®ƒè¡Œä¹Ÿæœ‰åŒæ ·çš„æ•ˆ
" æœï¼Œé™¤é â€™cpoptionsâ€™ é‡ŒåŒ…å« â€™Iâ€™ æ ‡å¿—ä½ã€‚
" å¦‚æœæ‰“å¼€è‡ªåŠ¨ç¼©è¿›ï¼Œæ’ç‰ˆ (ç”¨ gq å‘½ä»¤æˆ–è€…æ’å…¥æ¨¡å¼ä¸‹åˆ°è¾¾äº† â€™textwidthâ€™)
" ä½¿ç”¨ç¬¬ä¸€è¡Œçš„ç¼©è¿›è·ç¦»ã€‚
" æ‰“å¼€ â€™smartindentâ€™ æˆ– â€™cindentâ€™ æ—¶ï¼Œç¼©è¿›çš„ä¿®æ”¹æ–¹å¼æœ‰æ‰€ä¸åŒã€‚
" ç½®ä½ â€™pasteâ€™ é€‰é¡¹æ—¶ï¼Œâ€™autoindentâ€™ é€‰é¡¹è¢«å¤ä½ã€‚å¤ä½ â€™pasteâ€™ æ—¶ï¼Œæ¢å¤æ­¤
" é€‰é¡¹ã€‚
set autoindent
" Smart indent
" å¼€å¯æ–°è¡Œæ—¶ä½¿ç”¨æ™ºèƒ½è‡ªåŠ¨ç¼©è¿›ã€‚é€‚ç”¨äº C è¿™æ ·çš„ç¨‹åºï¼Œä½†æˆ–è®¸ä¹Ÿèƒ½ç”¨äºå…¶å®ƒè¯­
" è¨€ã€‚â€™cindentâ€™ ç±»ä¼¼ï¼Œå®ƒå¤šæ•°æƒ…å†µä¸‹æ›´å¥½ï¼Œä½†æ›´ä¸¥æ ¼ï¼Œè§ C-indenting ã€‚å¦‚æœ
" æ‰“å¼€ â€™cindentâ€™ æˆ–è®¾ç½®äº† â€™indentexprâ€™ï¼Œç½®ä½ â€™smartindentâ€™ æ²¡æœ‰æ•ˆæœã€‚
" â€™indentexprâ€™ æ˜¯æ›´é«˜çº§çš„æ›¿ä»£æ–¹æ¡ˆã€‚
" é€šå¸¸ï¼Œä½¿ç”¨ â€™smartindentâ€™ æ—¶ä¹Ÿåº”è¯¥æ‰“å¼€ â€™autoindentâ€™ã€‚
" åœ¨è¿™äº›æƒ…å†µä¸‹è‡ªåŠ¨æ’å…¥ç¼©è¿›:
"     - â€™{â€™ ç»“æŸçš„è¡Œåã€‚
"     - â€™cinwordsâ€™ ä¸­çš„æŸä¸ªå…³é”®å­—å¼€å§‹çš„è¡Œåã€‚
"     - â€™}â€™ å¼€å§‹çš„è¡Œå‰ (åªæœ‰ä½¿ç”¨ 'O' å‘½ä»¤æ‰ä¼š)ã€‚
" åœ¨æ–°è¡Œç¬¬ä¸€ä¸ªè¾“å…¥çš„å­—ç¬¦å¦‚æœæ˜¯ â€™}â€™ï¼Œè¯¥è¡Œä½¿ç”¨åŒ¹é…çš„ â€™{â€™ ç›¸åŒçš„ç¼©è¿›ã€‚
" åœ¨æ–°è¡Œç¬¬ä¸€ä¸ªè¾“å…¥çš„å­—ç¬¦å¦‚æœæ˜¯ â€™#â€™ï¼Œè¯¥è¡Œçš„ç¼©è¿›è¢«åˆ é™¤ï¼Œâ€™#â€™ è¢«æ”¾åˆ°ç¬¬ä¸€åˆ—ã€‚
" ä¸‹ä¸€è¡Œä¸Šï¼Œæ¢å¤åŸæ¥ç¼©è¿›ã€‚å¦‚æœä½ ä¸æƒ³è¿™ä¹ˆåšï¼Œä½¿ç”¨ä¸‹é¢çš„æ˜ å°„:
" ':inoremap # X^H#'ï¼Œå…¶ä¸­çš„ ^H ç”¨ CTRL-V CTRL-H è¾“å…¥ã€‚
" ä½¿ç”¨ '>>' å‘½ä»¤æ—¶ï¼Œâ€™#â€™ å¼€å§‹çš„è¡Œä¸å³ç§»ã€‚
" æ³¨æ„: â€™pasteâ€™ ç½®ä½æ—¶å¤ä½æœ¬é€‰é¡¹ï¼Œå¤ä½æ—¶æ¢å¤æœ¬é€‰é¡¹
set smartindent 
" è‡ªåŠ¨ç¼©è¿›æ–°è¡Œæ—¶ï¼Œå¤åˆ¶å·²æœ‰çš„è¡Œçš„ç¼©è¿›ç»“æ„ã€‚é€šå¸¸ï¼Œç”¨è¿ç»­çš„åˆ¶è¡¨ï¼Œå¿…è¦æ—¶åé¢
" å†è·Ÿè‹¥å¹²ç©ºæ ¼ï¼Œé‡æ–°æ„é€ æ–°ç¼©è¿› (é™¤éæ‰“å¼€ â€™expandtabâ€™ ï¼Œè¿™æ—¶åªç”¨ç©ºæ ¼)ã€‚
" æ‰“å¼€æ­¤é€‰é¡¹ä½¿å¾—æ–°è¡Œå‡†ç¡®åœ°å¤åˆ¶å·²æœ‰è¡Œä¸­ç”¨æ¥ç¼©è¿›çš„æ‰€æœ‰å­—ç¬¦ã€‚â€™expandtabâ€™ å¯¹
" è¿™äº›å­—ç¬¦æ²¡æœ‰å½±å“ï¼Œåˆ¶è¡¨è¿˜æ˜¯åˆ¶è¡¨ã€‚å¦‚æœæ–°çš„ç¼©è¿›æ¯”å·²æœ‰è¡Œçš„ç¼©è¿›è¦å¤šï¼Œå¤šä½™éƒ¨
" åˆ†çš„ç©ºç™½ä½¿ç”¨å¹³å¸¸çš„å¡«å……æ–¹å¼ã€‚
set copyindent
" è‡ªåŠ¨ç¼©è¿›å’Œæ™ºèƒ½ç¼©è¿›åŠŸèƒ½æœ‰æ—¶ä¼šå¯¼è‡´æ’ç‰ˆé”™ä¹±ï¼Œè€Œä½¿ç”¨ç²˜è´´æ¨¡å¼å¯ä¸´æ—¶å–æ¶ˆè¿™ä¸¤é¡¹ç¼©è¿›
" è®¾ç½®ï¼ŒVimæä¾›äº†ä¸€ä¸ªç²˜è´´æ¨¡å¼çš„å¼€å…³é€‰é¡¹pastetoggle
" æ³¨ï¼špaste mode(ç²˜è´´æ¨¡å¼)ä½œäº†å¦‚ä¸‹è®¾ç½®ï¼š
"     textwidthè®¾ç½®ä¸º0
"     wrapmarginè®¾ç½®ä¸º0
"     set noai
"     set nosi
"     softtabstopè®¾ç½®ä¸º0
"     revinsé‡ç½®
"     ruleré‡ç½®
"     showmatché‡ç½®
"     formatoptionsä½¿ç”¨ç©ºå€¼
"     set nolisp
"     set noindentexpr
"     set nocindent
set pastetoggle=<F8>
" Wrap lines
"set wrap  " æ­¤ä¸ºé»˜è®¤è®¾ç½®ï¼Œæ‰€ä»¥æ³¨é”€

""""""""""""""""""""""""""""""
" è¾“å…¥æ³•è®¾ç½®
""""""""""""""""""""""""""""""
" æ™®é€šæ¨¡å¼ä¸‹è‡ªåŠ¨ç¦ç”¨ä¸­æ–‡ï¼Œä½†å¯æ¥å—ä¸­æ–‡æ ‡ç‚¹
set noimdisable
" è®¾ç½®è¾“å…¥æ³•çš„æ¿€æ´»é”®
set imactivatekey=C-space

" æ‰“å¼€æ ‡å°ºï¼Œç”¨äºæ˜¾ç¤ºå…‰æ ‡å½“å‰æ‰€åœ¨ä½ç½®çš„è¡Œå·å’Œåˆ—å·ï¼Œé€—å·åˆ†éš”ï¼›
" å¦‚æœè¿˜æœ‰ç©ºé—´ï¼Œåœ¨æœ€å³ç«¯æ˜¾ç¤ºæ–‡æœ¬åœ¨æ–‡ä»¶ä¸­çš„ç›¸å¯¹ä½ç½®
" æ¯ä¸ªçª—å£éƒ½æœ‰è‡ªå·±çš„æ ‡å°ºï¼Œå¦‚æœçª—å£æœ‰çŠ¶æ€æ ï¼Œæ ‡å°ºåœ¨çŠ¶æ€æ æ˜¾ç¤ºï¼›
" å¦åˆ™ï¼Œå®ƒæ˜¾ç¤ºåœ¨å±å¹•çš„æœ€åä¸€è¡Œä¸Š
set ruler

" completeè¡¨ç¤ºè¡¥å…¨çš„ç±»å‹å’Œéœ€è¦æ‰«æçš„ä½ç½®ï¼Œé»˜è®¤å€¼ä¸ºï¼š.ã€wrã€bã€uã€tã€iï¼Œ
" åˆ†åˆ«è¡¨ç¤ºæ‰«æ:
"     1. å½“å‰ç¼“å†²åŒº
"     2. å…¶å®ƒçª—å£çš„ç¼“å†²åŒº
"     3. å…¶å®ƒè½½å…¥çš„ç¼“å†²åŒº
"     4. å¸è½½çš„ç¼“å†²åŒº
"     5. æ ‡ç­¾
"     6. å½“å‰æ–‡ä»¶å’ŒåŒ…å«çš„å¤´æ–‡ä»¶
set complete-=i

set tabpagemax=50

" displayé€‰é¡¹ç”¨äºæ”¹å˜æ–‡ä»¶æ˜¾ç¤ºçš„æ–¹å¼ã€‚è¿™æ˜¯é€—å·åˆ†éš”çš„æ ‡å¿—ä½çš„åˆ—è¡¨ï¼›å…¶ä¸­è‹¥åŒ…å«äº†
" lastlineï¼Œåˆ™è¡¨ç¤ºæ˜¾ç¤ºçª—å£æœ«è¡Œå°½é‡å¤šçš„å†…å®¹ï¼›å¦‚æœä¸åŒ…å«ï¼Œä¸èƒ½åœ¨çª—å£å®Œå…¨æ”¾å…¥çš„
" æœ«è¡Œä¼šä»¥ '@' è¡Œä»£æ›¿ã€‚åœ¨å±å¹•æœ€åä¸€è¡Œçš„æœ€åå‡ åˆ—ä¼šæ”¾ä¸Š '@@@'ï¼Œä»¥æŒ‡ç¤ºè¯¥è¡Œçš„å…¶ä½™
" éƒ¨åˆ†ä¸å†æ˜¾ç¤ºã€‚
set display+=lastline

if v:version > 703 || v:version == 703 && has("patch541")
  set formatoptions+=j  " Delete comment character when joining commented lines
endif

" å¦‚æœè®¾ç½®'nowrap'ï¼Œå…‰æ ‡å·¦å³ä¸¤ä¾§ä¿ç•™çš„æœ€å°‘å±å¹•åˆ—æ•°
set sidescrolloff=5
" æ°´å¹³æ»šåŠ¨æ—¶æ»šåŠ¨çš„æœ€å°‘åˆ—æ•°
set sidescroll=1

" ç‰¹æ®Šæ˜¾ç¤ºç©ºç™½å­—ç¬¦(ä½¿å¾—ä¸å¯è§çš„ç©ºç™½å­—ç¬¦å¯è§)
set list
" è®¾ç½®å½“è¾“å…¥:set listå‘½ä»¤æ—¶æ˜¾ç¤ºçš„å†…å®¹
" ==ï¼šä¸ºå­—ç¬¦ä¸²ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆä¹Ÿç”¨äºæ•°å€¼æ¯”è¾ƒï¼‰ï¼Œ#è¡¨ç¤ºå¤§å°å†™æ•æ„Ÿï¼ˆ?è¡¨ç¤ºå¤§å°å†™ä¸æ•æ„Ÿï¼‰
if &listchars ==# 'eol:$'
    "set listchars=tab:>\ ,trail:-,extends:>,precedes:<,nbsp:+
    "set listchars=tab:\|\ ,trail:.,extends:>,precedes:<,eol:$
    " <Tab>åˆ¶è¡¨ç¬¦ç”¨â€œ| â€æ˜¾ç¤ºï¼Œå°¾éšç©ºæ ¼(å³åé¢æ²¡æœ‰å¯æ˜¾ç¤ºå­—ç¬¦çš„ç©ºæ ¼)
    " ä»¥â€œ.â€æ˜¾ç¤º
    "set listchars=eol:Â¬,tab:\|\ ,trail:.,extends:>,precedes:<,nbsp:+,space:â£
    set listchars=tab:\|\ ,trail:.,extends:>,precedes:<,nbsp:+
endif

" ä»¥æ¯«ç§’è®¡ç®—çš„ç­‰å¾…é”®ç æˆ–æ˜ å°„çš„é”®åºåˆ—å®Œæˆçš„æ—¶é—´ï¼Œå³è®¾ç½®æŒ‰é”®ä¹‹é—´çš„å»¶è¿Ÿæ—¶é•¿
" (å°¤å…¶æ˜¯Altå’Œå…¶ä»–æŒ‰é”®çš„ç»„åˆé”®)ï¼Œç”¨äºè§£å†³æœ‰äº›ç¯å¢ƒä¸‹ä»æ’å…¥æ¨¡å¼Insert Mode
" æˆ–å‘½ä»¤è¡Œæ¨¡å¼Command Line Modeåˆ‡æ¢åˆ°æ™®é€šæ¨¡å¼Normal Modeæ—¶ä¼šå¡é¡¿çš„é—®é¢˜
set ttimeout
set ttimeoutlen=100

" åœ¨è¿›å…¥éæ™®é€šæ¨¡å¼çš„å…¶ä»–æ¨¡å¼(å¦‚æ’å…¥æ¨¡å¼ã€å¯è§†æ¨¡å¼ã€é€‰æ‹©æ¨¡å¼ç­‰æ¨¡å¼)æ—¶ï¼Œ
" åœ¨æœ€åä¸€è¡Œæ˜¾ç¤ºå½“å‰å¤„äºä»€ä¹ˆæ¨¡å¼çš„æç¤ºä¿¡æ¯(å‘½ä»¤è¡Œæ¨¡å¼é™¤å¤–)ï¼Œè¯¥é€‰é¡¹é»˜è®¤å…³é—­
set showmode

" ä¸ºæ‰€æœ‰æ¨¡å¼(næ™®é€šæ¨¡å¼ã€vå¯è§†æ¨¡å¼ã€iæ’å…¥æ¨¡å¼ã€cå‘½ä»¤è¡Œæ¨¡å¼ã€hç¼–è¾‘å¸®åŠ©æ–‡ä»¶æ—¶åŠå‰
" é¢æ‰€æœ‰æ¨¡å¼ã€aæ‰€æœ‰å‰é¢çš„æ¨¡å¼)æ‰“å¼€é¼ æ ‡æ”¯æŒ
" æ³¨ï¼šå¦‚æœé¼ æ ‡æ²¡æœ‰æ‰“å¼€ï¼ŒGUIç‰ˆæœ¬ä¸­ä»ç„¶å¯ä»¥ä½¿ç”¨é¼ æ ‡è¿›è¡Œæ— æ¨¡å¼é€‰æ‹©ï¼Œä½†ä¸èƒ½é€šè¿‡é¼ æ ‡
" æ¥ç§»åŠ¨å…‰æ ‡
"set mouse+=a  |" å¯ç”¨é¼ æ ‡ä¼šå¯¼è‡´ç»ˆç«¯è½¯ä»¶çš„å¤åˆ¶åŠŸèƒ½å¤±æ•ˆ
" åœ¨å¸®åŠ©æ–‡ä»¶ä¸­ä½¿ç”¨é¼ æ ‡ï¼Œæ¯”å¦‚ï¼š<C-LeftMouse>æˆ–g<LeftMouse>ï¼Œå¯ä¸C-]ä¸€æ ·è·³è½¬åˆ°å…‰æ ‡
" æ‰€åœ¨çš„å…³é”®å­—çš„å®šä¹‰
set mouse+=h

" æŒ‡å®šä»€ä¹ˆåœºåˆå¼€å§‹é€‰æ‹©æ—¶å¯åŠ¨é€‰æ‹©æ¨¡å¼è€Œä¸æ˜¯å¯è§†æ¨¡å¼ã€‚
" å¯èƒ½çš„å€¼:
"     mouse ä½¿ç”¨é¼ æ ‡æ—¶
"     key ä½¿ç”¨Shift+ç‰¹æ®Šé”®æ—¶(æ³¨ï¼šç‰¹æ®Šé”®é€šè¿‡ä¸‹é¢çš„keymodelé€‰é¡¹è¿›è¡Œè®¾ç½®)
"     cmd ä½¿ç”¨vã€Væˆ–CTRL-Væ—¶
set selectmode=key

" å¯ç”¨è§¦å‘é€‰æ‹©æ¨¡å¼çš„ç‰¹æ®Šé”®(è¿™é‡Œçš„ç‰¹æ®Šé”®æŒ‡ï¼šå…‰æ ‡é”®ã€<End>ã€<Home>ã€
" <PageUp>å’Œ<PageDown>)ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å€¼å¯ç”¨ç‰¹æ®Šé”®:
"     startsel ä½¿ç”¨Shift+ç‰¹æ®Šé”®å¯ä»¥å¼€å§‹é€‰æ‹©(é€‰æ‹©æ¨¡å¼æˆ–å¯è§†æ¨¡å¼ï¼Œ
"         å–å†³äºselectmodeé€‰é¡¹ä¸­æœ‰æ²¡æœ‰"key")ã€‚
"     stopsel ä½¿ç”¨éShift+ç‰¹æ®Šé”®åœæ­¢é€‰æ‹©ã€‚
set keymodel=startsel,stopsel

" å¦‚æœè¿‡äº†updatetimeæ‰€è®¾å®šçš„æ¯«ç§’æ•°ä»¥åè¿˜æ²¡æœ‰ä»»ä½•è¾“å…¥ï¼ŒæŠŠäº¤æ¢æ–‡ä»¶å†™å…¥ç£ç›˜(å‚è§
" Vimæ–‡æ¡£ä¸­çš„crash-recovery)ã€‚ä¹Ÿç”¨äºCursorHoldè‡ªåŠ¨å‘½ä»¤äº‹ä»¶ã€‚
" Vimé»˜è®¤å€¼ä¸º4000æ¯«ç§’(å³4ç§’)
" æ³¨ï¼šè¯¥å€¼ä¼šå½±å“vim-markologyæ’ä»¶æ›´æ–°æ ‡è®°çš„é€Ÿåº¦ï¼Œæ‰€ä»¥å¿…é¡»è®¾ç½®å°ä¸€äº›
set updatetime=500

" å¦‚æœæ‰“å¼€ï¼Œçª—å£æ ‡é¢˜ä¼šè¢«è®¾ä¸º â€™titlestringâ€™ çš„å€¼ (å¦‚æœéç©ºçš„è¯)ï¼Œå¦åˆ™çª—å£æ ‡é¢˜å°†è®¾ä¸º:
"     filename [+=-] (path) - VIM
set title
" ä½¿ç”¨å¿«é€Ÿç»ˆç«¯è¿æ¥ã€‚é‡ç”»æ—¶å¯ä»¥å‘é€ç»™å±å¹•å¤šä¸ªå­—ç¬¦ï¼Œè€Œä¸ä½¿ç”¨æ’å…¥/åˆ é™¤è¡Œå‘½ä»¤ã€‚
" æœ‰å¤šä¸ªçª—å£å’Œç»ˆç«¯ä¸æ”¯æŒæ»šåŠ¨åŒºåŸŸæ—¶ï¼Œä¼šæé«˜é‡ç”»çš„å¹³æ»‘åº¦ã€‚åŒæ—¶æ‰“å¼€éœ€è¦å›ç»•è¡Œ
" çš„å±å¹•è¡Œçš„è¡Œå°¾çš„é¢å¤–çš„å­—ç¬¦å†™å…¥ã€‚è¿™æœ‰åŠ©äºåœ¨ xterm å’Œå…¶å®ƒç»ˆç«¯ä¸Šä½¿ç”¨é¼ æ ‡æ¥è¿›
" è¡Œå¤åˆ¶/ç²˜è´´
set ttyfast
" put terminal in 'termcap' mode
" t_è¡¨ç¤ºç»ˆç«¯é€‰é¡¹ï¼Œt_tiè¡¨ç¤ºè®©ç»ˆç«¯è¿›å…¥termcapæ¨¡å¼ï¼Œt_teè¡¨ç¤ºé€€å‡ºtermcapæ¨¡å¼
" æ³¨ï¼štermcapä¸ºterminal capabilitiesçš„ç¼©å†™ã€‚tcshã€bashã€viä»¥åŠå…¶ä»–åŸºäºå…‰æ ‡çš„åº”ç”¨ç¨‹åºä½¿ç”¨
"     termcapæ•°æ®åº“åœ¨å±å¹•å‘¨å›´ç§»åŠ¨å…‰æ ‡å’Œåšå…¶ä»–çš„å±å¹•å¯¼èˆªå·¥ä½œã€‚termcapå·²ç»è¿‡æ—¶ï¼Œå¤§éƒ¨åˆ†çš„ç°
"     ä»£åº”ç”¨ç¨‹åºå’Œç¨‹åºåº“ä½¿ç”¨terminfoæ•°æ®åº“ä»£æ›¿termcapã€‚ä½†åœ¨å¾ˆå¤šæ–‡æ¡£é‡Œï¼Œè¿™ä¸¤è€…è¢«ç»Ÿç§°ä¸º
"     termcapã€‚
"if !has('gui_running')
"    set t_ti= t_te= |" è¿™ä¸¤ä¸ªé€‰é¡¹ä¼šå¯¼è‡´å³ä½¿é€€å‡ºäº†Vimï¼Œä½†Vimé€€å‡ºå‰çš„ç”»é¢ä¾ç„¶ä¿ç•™åœ¨SSHç»ˆç«¯ä¸Š
"endif

" Enable clipboard if possible
" æ³¨ï¼š1ã€è¯¥é€‰é¡¹ä»…åœ¨GUIç‰ˆæœ¬æˆ–è€…åŒ…å«+xterm_clipboardç¼–è¯‘ç‰¹æ€§æ—¶æ‰æœ‰æ•ˆ
"     2ã€X-windows(å³X11)ç‰ˆæœ¬Vimçš„clipboardé»˜è®¤è®¾ç½®ä¸ºï¼šclipboard=autoselect,exclude:cons\|linuxï¼Œ
"        å…¶ä»–ç‰ˆæœ¬çš„é»˜è®¤è®¾ç½®ä¸ºç©º
"        å…¶ä¸­ï¼š
"            1ï¼‰autoselectï¼šè¡¨ç¤ºæ— è®ºä»€ä¹ˆæ—¶å€™å¯åŠ¨å¯è§†æ¨¡å¼æˆ–è€…å¯è§†åŒºåŸŸæ‰©å±•ï¼ŒViméƒ½è¯•å›¾æˆä¸ºçª—å£
"               ç³»ç»Ÿå…¨å±€é€‰æ‹©åŒºçš„æ‹¥æœ‰è€…ï¼Œæˆ–è€…æŠŠé€‰æ‹©çš„æ–‡æœ¬æ”¾ç½®åˆ°é€‰æ‹©åŒºå¯„å­˜å™¨"*ä½¿ç”¨çš„å‰ªè´´æ¿ä¸Šã€‚
"               è¿™å’Œguioptionsé€‰é¡¹çš„aæ ‡å¿—ä½åŠŸèƒ½ç±»ä¼¼ã€‚å¦‚æœæ¿€æ´»GUIï¼Œä½¿ç”¨guioptionsçš„aæ ‡å¿—ä½ï¼›
"               å¦‚æœæ²¡æœ‰æ¿€æ´»GUIï¼Œä½¿ç”¨æœ¬autoselectæ ‡å¿—ä½ã€‚ä¹Ÿé€‚ç”¨äºæ— æ¨¡å¼çš„é€‰æ‹©ã€‚
"            2ï¼‰exclude:{pattern}ï¼šå®šä¹‰ç”¨æ¥åŒ¹é…ç»ˆç«¯å(ç”±termé€‰é¡¹è®¾ç½®)çš„æ¨¡å¼(å³{pattern})ã€‚
"               åŒ¹é…è¯¥æ¨¡å¼çš„ç»ˆç«¯åˆ™ä¸è¿æ¥åˆ°XæœåŠ¡å™¨(å³X11æœåŠ¡å™¨ï¼Œè§åæ³¨)ã€‚è¿™å¯ç”¨äºä»¥ä¸‹è¿™ç§æƒ…å½¢:
"                   - åœ¨æ§åˆ¶å°ä¸Šè¿è¡Œ Vimï¼Œ
"                   - $DISPLAYçš„è®¾ç½®ä½¿å¾—åº”ç”¨ç¨‹åºåœ¨å¦ä¸€ä¸ªæ˜¾ç¤ºä¸Šæ‰“å¼€ï¼Œ
"                   - ä¸å¸Œæœ›åœ¨æ§åˆ¶å°ä¸Šè¿æ¥åˆ°XæœåŠ¡å™¨ï¼Œä½†å¸Œæœ›åœ¨ç»ˆç«¯æ¨¡æ‹Ÿå™¨ä¸Šå¦‚æ­¤ã€‚
"               å¦‚æ°¸è¿œä¸æƒ³è¿æ¥åˆ°XæœåŠ¡å™¨ï¼Œä½¿ç”¨exclude:.*ï¼Œè¿™å’ŒVimçš„å¯åŠ¨å‚æ•°-Xå‚æ•°çš„æ•ˆæœç›¸åŒã€‚
"               æ³¨æ„ï¼šå¦‚æœæ²¡æœ‰åˆ°XæœåŠ¡å™¨çš„è¿æ¥ï¼Œåˆ™çª—å£æ ‡é¢˜ä¸ä¼šå¤åŸï¼Œè€Œå‰ªè´´æ¿ä¹Ÿæ— æ³•è®¿é—®ã€‚
"            3ï¼‰unnamedï¼šè¡¨ç¤ºVimä½¿ç”¨å‰ªè´´æ¿å¯„å­˜å™¨"*æ¥æ‰§è¡Œæ‰€æœ‰çš„æŠ½å‡ºã€åˆ é™¤ã€ä¿®æ”¹å’Œæ”¾ç½®æ“ä½œï¼Œ
"               è€Œä¸æ˜¯é€šå¸¸ä½¿ç”¨çš„æ— åå¯„å­˜å™¨ã€‚é™¤éæ˜¾å¼æŒ‡å®šäº†å¯„å­˜å™¨ï¼Œè¿™æ—¶ä¸ç®¡clipboardé€‰é¡¹æ˜¯ä¸
"               æ˜¯åŒ…å«unnamedéƒ½ä½¿ç”¨æŒ‡å®šçš„å¯„å­˜å™¨ã€‚å‰ªè´´æ¿å¯„å­˜å™¨æ€»æ˜¯å¯ä»¥æ˜¾å¼åœ°ç”¨"*è®°æ³•æ¥è®¿é—®ã€‚
"            4ï¼‰unnamedplusï¼šunnamedæ ‡å¿—ä½çš„å˜ç§ï¼Œå¯¹æ‰€æœ‰é€šå¸¸ä½¿ç”¨æ— åå¯„å­˜å™¨æ¥æŠ½å‡ºã€åˆ é™¤ã€ä¿®æ”¹
"               å’Œæ”¾ç½®æ“ä½œï¼Œä»¥å‰ªè´´æ¿"+å¯„å­˜å™¨(quoteplus)ä»£æ›¿"*å¯„å­˜å™¨ã€‚å¦‚åŒæ—¶åŒ…å«unnamedæ ‡å¿—ä½ï¼Œ
"               æŠ½å‡ºåŠ¨ä½œ(ä½†ä¸åŒ…æ‹¬åˆ é™¤ã€ä¿®æ”¹å’Œæ”¾ç½®)ä¼šåŒæ—¶æŠŠæ–‡æœ¬æ”¾å…¥"*å¯„å­˜å™¨ã€‚è¯¥é€‰é¡¹ä»…å½“+X11ç¼–
"               è¯‘ç‰¹æ€§å­˜åœ¨æ—¶æ‰å¯ç”¨ã€‚
"               åæ³¨ï¼šX Serveræ˜¯Linuxç³»ç»Ÿé‡Œå›¾å½¢ç•Œé¢æœåŠ¡å™¨çš„ç®€ç§°ã€‚Windowsç³»ç»Ÿçš„å›¾å½¢ç•Œé¢æ˜¯ç³»ç»Ÿæœ¬
"                    èº«ä¸å¯åˆ†å‰²çš„ä¸€éƒ¨åˆ†ï¼Œå„ç§çª—å£æ“ä½œç•Œé¢æ˜¾ç¤ºéƒ½æ˜¯ç”±ç³»ç»Ÿæ ¸å¿ƒç›´æ¥ç®¡ç†çš„ï¼Œè€ŒLinux
"                    çš„å›¾å½¢ç•Œé¢å¹¶ä¸æ˜¯ç³»ç»Ÿçš„å¿…è¦ç»„æˆéƒ¨åˆ†ï¼Œå› ä¸ºLinuxä¸€èˆ¬å¤šåœ¨æ— ç•Œé¢çš„æ¡ä»¶ä¸‹è¿è¡Œã€‚
"                    å½“éœ€è¦Linuxæä¾›ç•Œé¢æ—¶ï¼Œç³»ç»Ÿå°±ä¼šå»ºç«‹ä¸€ä¸ªæˆ–è€…æ•°ä¸ªX Serverï¼Œé€šè¿‡Xåè®®è·Ÿçª—å£
"                    ç®¡ç†å™¨(ç»¼åˆå›¾å½¢æ¡Œé¢ç¯å¢ƒ)äº¤äº’ï¼Œç”±ç‹¬ç«‹äºç³»ç»Ÿçš„åº”ç”¨ç¨‹åºæ¥äº§ç”Ÿçª—å£ã€çŠ¶æ€æ ã€
"                    æŒ‰é’®ä¹‹ç±»çš„å›¾å½¢äº¤äº’ç•Œé¢ã€‚æ¯”è¾ƒå¸¸è§çš„Linuxå›¾å½¢ç•Œé¢ç¯å¢ƒæœ‰KDEã€GNOMEç­‰ï¼Œä¸ºå®ƒä»¬
"                    æä¾›ç³»ç»Ÿæ”¯æŒçš„å°±æ˜¯X Serverï¼Œè€Œå¹¶éLinuxæ ¸å¿ƒã€‚
"                    æ€»ç»“ä¸€ä¸‹Linuxå›¾å½¢ç•Œé¢ç¯å¢ƒçš„å±‚æ¬¡å…³ç³»ï¼š
"                        Linuxæ ¸å¿ƒ-->X Server<--[é€šè¿‡Xåè®®äº¤æ¢]-->çª—å£ç®¡ç†å™¨-->Xåº”ç”¨ç¨‹åº
if has('clipboard')
    if has('unnamedplus') " When possible use + register for copy-paste
        set clipboard=unnamed,unnamedplus
    else " On mac and Windows, use * register for copy-paste
        set clipboard=unnamed
    endif
endif

" Make cursor always on center of screen by default
" Calculate proper scrolloff
"autocmd VimEnter,WinEnter,VimResized,InsertLeave * :let &scrolloff = float2nr(floor(winheight(0)/2)+1)
"autocmd InsertEnter * :let &scrolloff = float2nr(floor(winheight(0)/2))
" Use <Enter> to keep center in insert mode, need proper scrolloff
"inoremap <CR> <CR><C-o>zz

" Use Unix as the standard file type
set fileformats=unix,mac,dos

" å¿…é¡»è®¾ç½®ä¸‹é¢è¿™ä¸¤é¡¹ï¼Œå¦åˆ™statuselineæˆ–airlineå°†ä¸ä¼šæ­£å¸¸æ˜¾ç¤º
" çŠ¶æ€è¡Œç”¨æ¥åˆ†å‰²çª—å£ã€‚é€‰é¡¹laststatusç”¨æ¥è®¾ç½®æœ€åä¸€ä¸ªçª—å£åœ¨ä»€ä¹ˆæ—¶å€™
" å¯ä»¥æœ‰çŠ¶æ€æ :
"     laststatus = 0 æ°¸è¿œä¸ä¼šæœ‰çŠ¶æ€è¡Œ
"     laststatus = 1 çª—å£æ•°å¤šäºä¸€ä¸ªçš„æ—¶å€™
"     laststatus = 2 æ€»æ˜¯æ˜¾ç¤ºçŠ¶æ€è¡Œ
set laststatus=2
" t_è¡¨ç¤ºç»ˆç«¯é€‰é¡¹ï¼Œt_Coè¡¨ç¤ºç»ˆç«¯é¢œè‰²æ•°ç›®
if !has('gui_running')
  set t_Co=256
endif

" è®¾å®šç”¨äºå¡«å……çŠ¶æ€è¡Œå’Œå‚ç›´åˆ†å‰²çº¿çš„å­—ç¬¦ã€‚å®ƒæ˜¯é€—å·åˆ†éš”çš„é¡¹ç›®åˆ—è¡¨:
"     é¡¹ç›®    ç¼ºçœ  ç”¨äº
"     stl:c   â€™ â€™   æˆ– â€™^â€™ å½“å‰çª—å£çš„çŠ¶æ€è¡Œ
"     stlnc:c â€™ â€™   æˆ– â€™=â€™ éå½“å‰çª—å£çš„çŠ¶æ€è¡Œ
"     vert:c  â€™|â€™   å‚ç›´åˆ†å‰²çº¿ :vsplit
"     fold:c  â€™-â€™   å¡«å…… â€™foldtextâ€™
"     diff:c  â€™-â€™   â€™diffâ€™ é€‰é¡¹é‡Œçš„è¢«åˆ é™¤è¡Œ
"     ä»»ä½•ä¸æä¾›çš„é¡¹ç›®ä½¿ç”¨å…¶ç¼ºçœå€¼ã€‚"stl" å’Œ 'stlnc' åœ¨æœ‰é«˜äº®çš„åœ°æ–¹ä½¿ç”¨ç©º
"     æ ¼ï¼Œå¦åˆ™ä½¿ç”¨ â€™^â€™ æˆ– â€™=â€™ã€‚
"set fillchars+=stl:\ ,stlnc:\

" Format the status line
"set statusline=\%{HasPaste()}%F%m%r%h\ %w\ \CWD:\ %r%{getcwd()}%h\ \L%l\/\C%c
" çŠ¶æ€æ è®¾ç½®ï¼š%<ï¼Œè¡Œè¿‡é•¿ï¼Œåˆ™å¼€å¤´æˆªçŸ­ï¼›CFDï¼Œå½“å‰æ–‡ä»¶ç›®å½•ï¼Œ%Fï¼Œæ˜¾ç¤ºå®Œæ•´è·¯å¾„ï¼›
" %mï¼Œä¿®æ”¹æ ‡å¿—ä½ï¼›%rï¼Œåªè¯»æ ‡å¿—ä½ï¼›%hï¼Œå¸®åŠ©æ ‡å¿—ä½ï¼›%wï¼Œé¢„è§ˆçª—å£æ ‡å¿—ä½ï¼›
" FMTï¼Œæ–‡ä»¶æ ¼å¼ï¼Œ%{&fileformat}ï¼Œ%{}è¡¨ç¤ºè®¡ç®—è¡¨è¾¾å¼ï¼Œ&è¡¨ç¤ºå–å¾—é€‰é¡¹å˜é‡çš„å€¼ï¼›
" TYPEï¼Œæ–‡ä»¶ç±»å‹ï¼Œ%Yï¼Œæ–‡ä»¶ç±»å‹ï¼›%bï¼Œå…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„10è¿›åˆ¶ç ç‚¹å€¼ï¼Œ.9ï¼Œæœ€å¤§æ˜¾ç¤º9ä½ï¼›
" %Bï¼Œå…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„16è¿›åˆ¶ç ç‚¹å€¼ï¼›CWDï¼Œå½“å‰å·¥ä½œç›®å½•ï¼›%=ï¼Œå·¦å¯¹é½ä¸å³å¯¹é½çš„åˆ†ç•Œç‚¹ï¼›
" %cï¼Œåˆ—å·ï¼›%Vï¼Œè™šæ‹Ÿåˆ—å·ï¼Œè¡¨ç¤ºä¸ºè´Ÿæ•°ï¼›%pï¼Œå½“å‰è¡Œåœ¨æ–‡ä»¶ä½ç½®çš„ç™¾åˆ†æ¯”ï¼›
" %Pï¼Œçª—å£åœ¨æ–‡ä»¶ä½ç½®çš„ç™¾åˆ†æ¯”ï¼›%%ï¼Œæ˜¾ç¤º%å·æœ¬èº«ï¼›%Lï¼Œæ–‡ä»¶ç¼“å†²åŒºé‡Œçš„æ€»è¡Œæ•°ã€‚
"set statusline=%<[CFP=%F]%m%r%h%w\ [FMT=%{&fileformat}]\ [TYPE=%Y]\ [%.9b\ 0x%.9B]\ [CWD=%{getcwd()}]\ %=[%l,%c%V\ %p%%\ %P\ %LLs]
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" é…ç½®airlineï¼ˆä»£æ›¿statuslineã€powerlineçš„çº¯vimå®ç°ï¼Œæ— éœ€Pythonæ”¯æŒï¼‰
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" è®¾ç½®vim-airlineçš„ä¸»é¢˜ä¸ºluna
let g:airline_theme="luna" 
"let g:airline_theme="dracula" 

" å®‰è£…airlineä¸“ç”¨å­—ä½“åï¼Œå¿…é¡»è®¾ç½®æ­¤é¡¹ 
let g:airline_powerline_fonts=1   

" æ‰“å¼€tablineåŠŸèƒ½ï¼Œæ–¹ä¾¿æŸ¥çœ‹Bufferå’Œåˆ‡æ¢Bufferï¼Œè¿™ä¸ªåŠŸèƒ½æ¯”è¾ƒä¸é”™ï¼Œ
" åœ¨1ä¸ªTabä¸‹å¯ç”¨å¤šä¸ªbufferï¼Œçœå»å®‰è£…minibufexplæ’ä»¶äº†
let g:airline#extensions#tabline#enabled=1
let g:airline#extensions#tabline#buffer_nr_show=1

" å¯ç”¨airlineä¸­é›†æˆçš„CtrlP
let g:airline#extensions#ctrlp#enabled=1

" å…³é—­çŠ¶æ€æ˜¾ç¤ºç©ºç™½ç¬¦å·è®¡æ•°
let g:airline#extensions#whitespace#enabled=0
let g:airline#extensions#whitespace#symbol='!'

" è®¾ç½®çŠ¶æ€æ ç¬¦å·æ˜¾ç¤ºï¼Œä¸‹é¢ç¼–ç ç”¨åŒå¼•å·
let g:Powerline_symbols="fancy"
"let g:Powerline_symbols="compatible"
let g:airline_symbols = {}

" unicode symbols
let g:airline_left_sep = ' '
let g:airline_left_alt_sep = ' '
let g:airline_right_sep = ' '
let g:airline_right_alt_sep = ' '
"let g:airline_symbols.linenr = 'Â¶'
" airline symbols
"let g:airline_symbols.branch = 'â‡'
"let g:airline_symbols.paste = 'Ï'
"let g:airline_symbols.paste = 'Ã'
"let g:airline_symbols.paste = 'âˆ¥'
"let g:airline_symbols.whitespace = 'Î'
"let g:airline_symbols.linenr = 'Â¶'
"let g:airline_symbols.branch = 'â‡'
"let g:airline_left_sep="\U2b80" 
"let g:airline_left_alt_sep="\U2b81"
"let g:airline_right_sep="\U2b82"
"let g:airline_right_alt_sep="\U2b83"
"let g:airline_symbols.branch="\U2b60"
"let g:airline_symbols.readonly="\U2b64"
"let g:airline_symbols.linenr="\U2b61"

" é¢å¤–å•ç‹¬è®¾ç½®é¡¶éƒ¨tablineæ ‡ç­¾æ çš„ç¬¦å·æ˜¾ç¤ºï¼ˆå¦‚æœéœ€è¦å°†tablineè®¾ç½®ä¸ºä¸statusline
" ä¸ä¸€æ ·ï¼Œå¯åœ¨è¿™é‡Œå•ç‹¬ä¸ºå…¶è®¾ç½®ï¼Œå¦åˆ™tablineçš„ç¬¦å·æ˜¾ç¤ºå°†ä¸statuslineä¸€è‡´ï¼‰
"let g:airline#extensions#tabline#left_sep="\u2b80"
"let g:airline#extensions#tabline#left_alt_sep="\u2b81"

let g:airline_section_a=airline#section#create(['mode'])
let g:airline_section_b=airline#section#create(['hunks'])
let g:airline_section_c=airline#section#create(['[CWDï¼š%{getcwd()}] ','[FILEï¼š%F]'])
let g:airline_section_x=airline#section#create(['branch','ffenc'])
let g:airline_section_y=airline#section#create(['','[TYPEï¼š','filetype','] ','[TIMEï¼š','%{strftime("%H:%M")}',']'])
"let g:airline_section_b='%<%m%r%h%w TYPE=%Y %.9b/0x%.9B CWD=%{getcwd()}'
"let g:airline_section_y='%l,%c%V %p%% %P %LLs'

"let g:airline#extensions#tabline#buffer_idx_mode=1

"" æŒ‰<Alt>+æ•°å­—é”®ï¼Œé€‰æ‹©Tabæ ‡ç­¾
"nmap <M-1> <Plug>AirlineSelectTab1
"nmap <M-2> <Plug>AirlineSelectTab2
"nmap <M-3> <Plug>AirlineSelectTab3
"nmap <M-4> <Plug>AirlineSelectTab4
"nmap <M-5> <Plug>AirlineSelectTab5
"nmap <M-6> <Plug>AirlineSelectTab6
"nmap <M-7> <Plug>AirlineSelectTab7
"nmap <M-8> <Plug>AirlineSelectTab8
"nmap <M-9> <Plug>AirlineSelectTab9
"nmap <M-[> <Plug>AirlineSelectPrevTab
"nmap <M-]> <Plug>AirlineSelectNextTab
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" é…ç½®airlineç»“æŸ
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""


"""""""""""""""""""""""""""""""""""""""""""""
" å¿«æ·é”®æ˜ å°„
"""""""""""""""""""""""""""""""""""""""""""""
" With a map leader it's possible to do extra key combinations
" like <LEADER>w saves the current file
"let mapleader = '\<SPACE>'  " è¿™ç§å†™æ³•è²Œä¼¼åœ¨ideavimä¸­ä¼šå¯¼è‡´å‡ºé”™
let mapleader = ' '

" facilitate screen move
" æ»šåŠ¨æ•´å±
"nnoremap <S-CR> :let b:curPos=getpos(".")<CR> <C-F> :call setpos(".", b:curPos)<CR> :unlet b:curPos<CR>
"nnoremap <S-CR> <C-F>zz
nnoremap <S-CR> <C-D><C-D>
"nnoremap <S-BS> :let b:curPos=getpos(".")<CR> <C-B> :call setpos(".", b:curPos)<CR> :unlet b:curPos<CR>
"nnoremap <S-BS> <C-B>zz
nnoremap <S-BS> <C-U><C-U>
" æ»šåŠ¨åŠå±
nnoremap <C-CR> <C-D>
nnoremap <C-BS> <C-U>
nnoremap <C-J>  <C-D>
nnoremap <C-K>  <C-U>
"nnoremap <SPACE><SPACE> <C-D>
"nnoremap <S-SPACE><SPACE> <C-U>
" æ»šåŠ¨ä¸€è¡Œ
nnoremap <C-S-CR> <C-E>gj
nnoremap <C-S-BS> <C-Y>gk
"nnoremap <DOWN>  <C-E>
"nnoremap <UP>    <C-Y>

" ç§»åŠ¨å…‰æ ‡ï¼Œä¸æ»šå±ï¼ˆ<CR>æ™®é€šæ¨¡å¼ä¸‹ä¸ºå‘ä¸‹ç§»åŠ¨å…‰æ ‡ï¼Œä½†<BS>ä¸ºé€å­—ç¬¦ç§»åŠ¨å…‰æ ‡ï¼‰
"nnoremap <BS> k
" normalæ¨¡å¼ä¸‹ï¼Œå°†Backspaceæ˜ å°„ä¸ºå‘å·¦åˆ é™¤
nnoremap <BS> X  |" Linuxä¸­è²Œä¼¼æ— æ•ˆ

" redoé‡åšå‘½ä»¤
nnoremap U <C-R>

" Treat long lines as break linesï¼ˆæŒ‰æ˜¾ç¤ºè¡Œé€è¡Œç§»åŠ¨ï¼Œè€ŒéæŒ‰æ–‡æœ¬è¡Œï¼‰ï¼Œ 
" å¹¶ä¸”è®¾å®šä¸ºæ–‡æœ¬é€è¡Œæ»šåŠ¨ï¼Œè€Œéå…‰æ ‡é€è¡Œç§»åŠ¨ï¼ˆå…‰æ ‡ç›¸å¯¹å±å¹•çš„ä½ç½®
" å›ºå®šä¸åŠ¨ï¼ŒæŒ‰F3å¯åˆ‡æ¢è¿™ä¸¤ç§æ–¹å¼ï¼‰
noremap j <C-E>gj
noremap k <C-Y>gk

" go to older jump position(contrast with Tab or C-I)
noremap <S-TAB> <C-O>

" nã€vã€sã€oæ¨¡å¼ä¸‹ï¼Œç§»åŠ¨åˆ°å½“å‰è¡Œè¡Œé¦–ã€è¡Œå°¾ã€è¡Œä¸­
noremap <C-H> ^
noremap <C-L> $
noremap  0    ^
noremap  -    :call cursor(line("."), col("$")/2)<CR>
noremap  =    $

" nã€vã€sã€oæ¨¡å¼ä¸‹æ³¨é‡Šå½“å‰è¡Œ
" æ³¨æ„ï¼šåœ¨vimä¸­ï¼ŒCtrl-/(æ­£æ–œæ )æ˜¯æ— æ•ˆçš„ï¼Œå› æ­¤ä»¥å°é”®ç›˜çš„/ï¼ˆkDivideï¼‰ä»£æ›¿,
" è¯¦è§ï¼šhttp://vim.1045645.n5.nabble.com/How-to-map-Ctrl-td1192843.html
"noremap  <C-/>  <ESC>^i"<ESC>j
noremap  <C-kDivide>  <ESC>^i"<ESC>j  |" Linuxä¸­è²Œä¼¼æ— æ•ˆ
inoremap <C-kDivide>  <ESC>^i"<ESC>j  |" Linuxä¸­è²Œä¼¼æ— æ•ˆ

" æ’å…¥æ¨¡å¼ã€å‘½ä»¤è¡Œæ¨¡å¼ä¸‹ç§»åŠ¨ã€åˆ é™¤
"inoremap <C-H> <LEFT>
"inoremap <C-J> <DOWN>
"inoremap <C-K> <UP>
"inoremap <C-L> <RIGHT>
"inoremap <C-D> <DELETE>
"cnoremap <C-H> <LEFT>
"cnoremap <C-J> <DOWN>
"cnoremap <C-K> <UP>
"cnoremap <C-L> <RIGHT>
"cnoremap <C-D> <DELETE>

" ç”±äºWindowsä¸‹çš„<C-A>å·²è¢«æ˜ å°„ä¸ºå…¨é€‰åŠŸèƒ½ï¼Œå› æ­¤éœ€é‡æ˜ å°„
" æ³¨ï¼šé»˜è®¤<C-A>ä¸ºå¢åŠ å…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„æ•°å€¼æˆ–å­—æ¯ï¼Œ<C-X>åä¹‹
noremap <C-I> <C-A>  |" iï¼ŒIncrease
"noremap <C-D> <C-X>  |" Dï¼ŒDecrease
noremap <C-S-I> <C-X>  |" Iï¼ŒDecrease

" æ’å…¥æ¨¡å¼ä¸‹ï¼Œå›è½¦ä¸ºESCï¼›Shift+å›è½¦ä¸ºå›è½¦
"inoremap <S-CR> <CR>
"inoremap <CR> <ESC>

" iã€vã€cæ¨¡å¼ä¸‹ï¼Œjjè¿”å›æ­£å¸¸æ¨¡å¼
inoremap jj    <ESC>

" æ’å…¥æ¨¡å¼ä¸‹ï¼Œå¤åˆ¶ä¸Šã€ä¸‹è¡Œå¯¹åº”åˆ—å­—ç¬¦
"inoremap <C-BS> <C-Y>  |" Linuxä¸Šæ— æ•ˆ
"inoremap <C-CR> <C-E>  |" Linuxä¸Šæ— æ•ˆ
inoremap <C--> <C-Y>
inoremap <C-=> <C-E>

" åˆ‡æ¢æ ‡ç­¾é¡µï¼Œä¸Windowsä¸­æ ‡ç­¾é¡µåˆ‡æ¢çš„å¸¸è§„æ“ä½œç›¸åŒ
noremap <C-TAB>   gt
noremap <C-S-TAB> gT

" Nã€Xã€Sã€Oæ¨¡å¼ä¸‹åœ¨å‘½ä»¤è¡Œçª—å£åˆ—å‡ºæ‰€æœ‰Vimèƒ½è®¿é—®çš„ç¯å¢ƒå˜é‡(åŒ…æ‹¬æ“ä½œç³»ç»Ÿå®šä¹‰
" çš„ç¯å¢ƒå˜é‡ä¸Vimå®šä¹‰çš„ç¯å¢ƒå˜é‡)ï¼Œå¹¶å¯æ¥ç€æŒ‰<Tab>é”®è¡¥å…¨æŸ¥çœ‹æŸä¸ªç¯å¢ƒå˜é‡çš„å€¼
"map <LEADER>ev :call Env()<CR>
noremap <LEADER>ev <ESC>:echo $<C-D>

" å¯è§†æ¨¡å¼ä¸‹ç¼©è¿›/åç¼©è¿›å¯è§†åŒºåŸŸ(é€‰æ‹©åŒºåŸŸ)
vnoremap < <gv
vnoremap > >gv

" å°†Yæ˜ å°„ä¸ºä»å…‰æ ‡å½“å‰ä½ç½®å¤åˆ¶åˆ°è¡Œå°¾ï¼Œ
" ä»¥ä¸Dã€Cç­‰å¤§å†™å­—æ¯çš„è¡Œä¸ºç»Ÿä¸€èµ·æ¥ï¼›
" å¹¶ä¸”å°†å¤åˆ¶å†…å®¹å›æ˜¾åˆ°å‘½ä»¤è¡Œä¸­ã€‚
" å…¶ä¸­ï¼Œechom[sg] {expr1}ï¼šå›æ˜¾è¡¨è¾¾å¼çš„ç»“æœï¼Œå°†å…¶ä½œä¸ºä¸€ä¸ª
" çœŸæ­£çš„æ¶ˆæ¯ï¼Œå¹¶æŠŠè¯¥æ¶ˆæ¯ä¿å­˜åœ¨message-historyé‡Œï¼›å’Œechoç±»ä¼¼ï¼Œ
" ä½†ä¸å¯æ˜¾ç¤ºçš„å­—ç¬¦åªå›æ˜¾è€Œä¸ä¼šè¢«è§£é‡Šï¼›@0ï¼Œåœ¨å‘½ä»¤è¡Œæ¨¡å¼å’Œ
" Exæ¨¡å¼ä¸­ï¼Œ@è¡¨ç¤ºå¯„å­˜å™¨ï¼Œä¸åŒäºæ™®é€šæ¨¡å¼ä¸­ä»¥"è¡¨ç¤ºå¯„å­˜å™¨
noremap  Y  y$ :echom "Copied Text: " . @0<CR>3h
nnoremap yy yy :echom "Copied Text: " . @0<CR>3h  
vnoremap y  y  :echom "Copied Text: " . @0<CR>h
" å°†Væ˜ å°„ä¸ºä»å…‰æ ‡å½“å‰ä½ç½®é€‰æ‹©åˆ°è¡Œå°¾ï¼Œ
" ä»¥ä¸Dã€Cã€Yç­‰å¤§å†™å­—æ¯çš„è¡Œä¸ºç»Ÿä¸€èµ·æ¥ï¼›
" å°†vvæ˜ å°„ä¸ºåŸæ¥Vçš„é€‰ä¸­è¡Œ(å³è¡Œé€‰)åŠŸèƒ½ï¼Œ
" è¿™æ ·ä¹Ÿä¸ddã€ccã€yyç­‰è¡Œæ“ä½œè¡Œä¸ºç»Ÿä¸€èµ·æ¥äº†
" (æ³¨ï¼švvçš„åŸç”Ÿå®šä¹‰ä¸ºâ€œä½¿å¾—å¯è§†æ¨¡å¼é¢å‘å­—ç¬¦â€ï¼Œæ„ä¹‰ä¸å¤§)
nnoremap V  v$
nnoremap vv V
" è¿›å…¥å¯è§†æ¨¡å¼å—é€‰æ“ä½œ(åˆ—é€‰æ“ä½œ)å­æ¨¡å¼
nnoremap <LEADER>v <C-V>
" å¯è§†æ¨¡å¼v/Vå­æ¨¡å¼ä¸‹ï¼Œä»å¯åˆ‡æ¢åˆ°å—é€‰å­æ¨¡å¼
vnoremap <LEADER>v <C-V>

" Move a line of text using ALT+[jk] or Comamnd+[jk] on mac
" ä¸Šä¸‹ç§»åŠ¨è¡Œ(æ•´è¡Œç§»åŠ¨)
" mzï¼Œè®¾ç½®æ ‡è®°zï¼›`zï¼Œç²¾ç¡®ç§»åŠ¨åˆ°æ ‡è®°zæ‰€åœ¨çš„è¡Œä¸åˆ—ï¼›
" :mï¼Œç§»åŠ¨æ•´è¡Œ(:[range]m[ove] {address}ï¼ŒæŠŠ[range]æŒ‡å®šçš„è¡Œç§»åŠ¨åˆ°{address}
" ç»™å‡ºçš„è¡Œä¹‹ä¸‹)ï¼›+/-ï¼Œè¡Œå·åŠ 1/å‡1ï¼›:m+ï¼Œç§»åŠ¨å½“å‰è¡Œåˆ°ä¸‹ä¸€è¡Œçš„ä¸‹é¢
" (ç›¸å½“äºä¸ä¸‹ä¸€è¡Œäº¤æ¢ä½ç½®)ï¼Œ:m-ï¼Œç§»åŠ¨å½“å‰è¡Œåˆ°ä¸Šä¸€è¡Œçš„ä¸‹é¢(ç›¸å½“äº
" æ²¡æœ‰ç§»åŠ¨)ï¼Œm-2ï¼Œç§»åŠ¨å½“å‰è¡Œåˆ°ä¸Šä¸¤è¡Œçš„ä¸‹é¢(ç›¸å½“äºä¸ä¸Šä¸€è¡Œäº¤æ¢ä½ç½®) 
"nmap <M-j> mz:m+<CR>`z  |" è²Œä¼¼Linuxç»ˆç«¯ä¸­æ— æ•ˆ
"nmap <M-k> mz:m-2<CR>`z  |" è²Œä¼¼Linuxç»ˆç«¯ä¸­æ— æ•ˆ
nmap <LEADER>j mz:m+<CR>`z
nmap <LEADER>k mz:m-2<CR>`z

" '<ï¼Œå…‰æ ‡ç§»åŠ¨åˆ°ä¸Šæ¬¡å¯è§†åŒºåŸŸé¦–è¡Œè¡Œé¦–ï¼Œ'>ï¼Œå…‰æ ‡ç§»åŠ¨åˆ°ä¸Šæ¬¡å¯è§†åŒºåŸŸæœ«è¡Œè¡Œé¦–ï¼›
" è‹¥ä¸Šæ¬¡å¯è§†åŒºåŸŸéè·¨å¤šè¡Œ(2è¡Œæˆ–ä»¥ä¸Š)ï¼Œè€Œæ˜¯å•è¡Œæˆ–è¡Œå†…éƒ¨åˆ†å­—ç¬¦ï¼Œ'<å’Œ'>æ•ˆæœç­‰åŒï¼›
" `<ï¼Œå…‰æ ‡ç§»åŠ¨åˆ°ä¸Šæ¬¡å¯è§†åŒºåŸŸçš„é¦–å­—ç¬¦ï¼Œ`>ï¼Œå…‰æ ‡ç§»åŠ¨åˆ°ä¸Šæ¬¡å¯è§†åŒºåŸŸçš„æœ«å­—ç¬¦ï¼›
" ç›¸è¾ƒäº'<å’Œ'>ï¼Œ`<å’Œ`>ç§»åŠ¨æ›´ä¸ºç²¾ç¡®ï¼›oï¼Œå¯è§†æ¨¡å¼ä¸‹è¡¨ç¤ºç§»åŠ¨å…‰æ ‡åˆ°å¯è§†åŒºåŸŸçš„
" å¦ä¸€ä¾§(å…‰æ ‡åœ¨å¯è§†åŒºåŸŸå†…çš„å…‰æ ‡æœ€åˆæ‰€åœ¨çš„ä½ç½®ä¸æœ€åæ‰€åœ¨çš„ä½ç½®ä¹‹é—´ç§»åŠ¨)
"vmap <M-j> :m'>+<CR>`<my`>mzgv`yo`z  |" è²Œä¼¼Linuxç»ˆç«¯ä¸­æ— æ•ˆ
"vmap <M-k> :m'<-2<CR>`>my`<mzgv`yo`z  |" è²Œä¼¼Linuxç»ˆç«¯ä¸­æ— æ•ˆ
vmap <LEADER>j :m'>+<CR>`<my`>mzgv`yo`z
vmap <LEADER>k :m'<-2<CR>`>my`<mzgv`yo`z
"if has("mac") || has("macunix")
"    nmap <D-j> <M-j>
"    nmap <D-k> <M-k>
"    vmap <D-j> <M-j>
"    vmap <D-k> <M-k>
"endif

" æ‰“å¼€vimrcé…ç½®æ–‡ä»¶
map <F6> :edit $MYVIMRC<CR>
"" é‡è½½é…ç½®æ–‡ä»¶ã€æ³¨æ„ï¼šæ‰§è¡Œâ€œ:source $MYVIMRC<CR>â€å‘½ä»¤å‡ºé”™ï¼ŒåŸå› ä¸º
"" ä¸winposå’Œlinesã€columnsç­‰GUIçª—å£è®¾ç½®ç›¸å†²çªäº†ã€‘
"map <F9> :source $MYVIMRC<CR>  |" å·²å¯ç”¨ä¿å­˜vimrcæ–‡ä»¶æ—¶è‡ªåŠ¨é‡è½½

"" æŒ‰<Tab>ç¼©è¿›ï¼ŒæŒ‰<S-Tab>åç¼©è¿›
"noremap <Tab>   >>  |" <Tab>ä¸VimåŸç”Ÿå®šä¹‰(å³é»˜è®¤å®šä¹‰)çš„è·³è½¬åŠŸèƒ½å†²çª
"noremap <S-Tab> <<

"" æ’å…¥æ¨¡å¼ä¸‹å¿«æ·è¾“å…¥$ï¼ˆphpä¸­çš„å˜é‡å‰é¢å¿…é¡»æœ‰$ï¼Œè¾“å…¥å¾ˆé¢‘ç¹ï¼‰
"inoremap ss $
inoremap <A-S> $  |" Linuxä¸­è²Œä¼¼æ— æ•ˆ
"inoremap `     ->
"inoremap ~     =>

" æ™®é€šæ¨¡å¼ä¸‹ï¼ŒCtrl-Aå…¨é€‰æ˜ å°„ä¸ºggVGï¼ˆCtrl-Aæœ¬ä¸ºIDEå¿«æ·é”®ï¼Œä½†åœ¨IdeaVimä¸­æ— æ³•
" å®ç°è¦†ç›–å…¨é€‰å†…å®¹ï¼ˆå³å…¨é€‰åæ— æ³•åˆ é™¤å…¨é€‰å†…å®¹åç²˜è´´ï¼Œä½†å¯ç”¨<LEADER><LEADER>c
" ä»£æ›¿ï¼‰ 
" ã€æ³¨æ„ï¼šåªèƒ½ç”¨äºæ™®é€šæ¨¡å¼ï¼ã€‘
nnoremap <C-A>    ggVG

"" åœ¨è¡Œå†…ä»»æ„ä½ç½®ç›´æ¥è·³åˆ°è¡Œå°¾å¹¶è¡¥å……åˆ†å·ï¼ˆè¾“å…¥åˆ†å·;åï¼Œé©¬ä¸Šæ¢è¡Œï¼‰
"inoremap <C-S-CR> <ESC>A;<CR>
"inoremap <C-CR>   <ESC>A;<CR>
"inoremap <S-CR>   <ESC>o
" å¿«é€Ÿè¾“å…¥åŒåˆ†å·ï¼Œåœ¨å½“å‰è¡Œå°¾éƒ¨è¾“å…¥åˆ†å·
"inoremap ;;  <ESC><HOME>:action EditorLineEndWithSelection<CR>
"            \:action ReformatCode<CR><ESC>A  |" ä»…é€‚ç”¨äºideavim
inoremap ;;   <ESC>A;

" Disable highlight
map <LEADER>h :noh<CR>

" æ™®é€šæ¨¡å¼ä¸‹æ’å…¥æ¢è¡Œç¬¦
map <LEADER><CR> i<CR><ESC>

" ä¿å­˜æ–‡ä»¶å¹¶é€€å‡º
map <LEADER>wq :wq<CR>
" ä¿å­˜æ–‡ä»¶,ä¸é€€å‡º(åŸå…ˆæ˜ å°„ä¸º:update<CR>ï¼Œä½†ideavimå’Œvsvimä¸æ”¯æŒï¼Œæ”¹ä¸º:w<CR>)
map <LEADER>u :w<CR>
" æ–‡ä»¶æ²¡æœ‰ä¿®æ”¹åˆ™ç›´æ¥é€€å‡º
map <LEADER>q :q<CR>
"" æ–‡ä»¶æ²¡æœ‰ä¿®æ”¹åˆ™å…¨éƒ¨é€€å‡º
map <LEADER><LEADER>q :qa<CR>

" æ™®é€šæ¨¡å¼ä¸‹æ’å…¥ä¸€ä¸ªç©ºè¡Œ
nmap <LEADER>o o<ESC>
nmap <LEADER>O O<ESC>

"" æ’¤é”€ä¸Šä¸€æ¬¡å‘½ä»¤è¡Œsetæ“ä½œ
"map <LEADER>u :call UndoSetCommand()<CR>
" é‡å¤ä¸Šä¸€æ¬¡å‘½ä»¤è¡Œæ“ä½œ
map <LEADER>r :@:<CR>

" æ™®é€šæ¨¡å¼ä¸‹æ’å…¥å•ä¸ªå­—ç¬¦
nmap <LEADER>i i <ESC>r
nmap <LEADER>a a <ESC>r

" Switch CWD to the directory of the open buffer
map <LEADER>cd :cd %:p:h<cr>:pwd<cr>

" toggle case ignoreï¼ˆåˆ‡æ¢å¿½ç•¥å¤§å°å†™é€‰é¡¹ï¼‰
" æ³¨ï¼šseté€‰é¡¹åçš„å¹å·!è¡¨ç¤ºåˆ‡æ¢é€‰é¡¹å€¼ï¼Œé—®å·?è¡¨ç¤ºæ˜¾ç¤ºé€‰é¡¹å€¼
nmap <LEADER>C :set ignorecase! ignorecase?<CR>

" ç¼“å†²åŒºåˆ‡æ¢
map <LEADER>bp :bprevious<CR>
map <LEADER>bn :bnext<CR>

" Useful mappings for managing tabs
" æ ‡ç­¾æ“ä½œ(æ ‡ç­¾é¡µæ“ä½œ)ã€æ ‡ç­¾ç®¡ç†(æ ‡ç­¾é¡µç®¡ç†)
map <LEADER>tw :tabnew<CR>
map <LEADER>ts :tab split<CR>
map <LEADER>to :tabonly<CR>
map <LEADER>tc :tabclose<CR>
map <LEADER>tf :tabfirst<CR>
map <LEADER>tl :tablast<CR>
map <LEADER>tm :tabmove
map <LEADER>tp :tabprevious<CR>
map <LEADER>tn :tabnext<CR>
" Let 'tt' toggle between this and the last accessed tab
let g:lasttab=1
nmap <LEADER>tt :execute "tabnext ".g:lasttab<CR>
au TabLeave * let g:lasttab=tabpagenr()
" åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾é¡µ
map <LEADER>ta :tabs<CR>
" Opens a new tab with the current buffer's path
" Super useful when editing files in the same directory
map <LEADER>te :tabedit <c-r>=expand("%:p:h")<cr>/

" åˆ†å±æ“ä½œ(å¤šçª—å£æ“ä½œ)
" ç”±äºVimScriptä¸­çš„æ³¨é‡Šä»¥ä¸€ä¸ªåŒå¼•å·å¼€å§‹ï¼Œæœ‰æ—¶å®¹æ˜“ä¸
" åŒå¼•å·å­—ç¬¦ä¸²ä¸­çš„åŒå¼•å·æ··æ·†(æœ‰äº›å‘½ä»¤åä¸èƒ½è·Ÿæ³¨é‡Šï¼Œå› ä¸º
" å­—ç¬¦ä¸²ä¼˜å…ˆäºæ³¨é‡Š)ï¼Œå› æ­¤ï¼Œå¯åœ¨å‘½ä»¤è¡Œåé¢çš„æ³¨é‡Šå‰åŠ ä¸Š
" å‘½ä»¤åˆ†éš”ç¬¦|(ç”¨äºåˆ†éš”æ”¾åœ¨å•è¡Œä¸Šçš„å¤šæ¡Exå‘½ä»¤è¯­å¥)ï¼Œä»¥å…å‡ºé”™
noremap <LEADER>wc <C-W>c  |" å…³é—­å½“å‰çª—å£
noremap <LEADER>wn <C-W>n  |" æ‰“å¼€(å³åˆ›å»º)ä¸€ä¸ªæ–°çª—å£
noremap <LEADER>wb <C-W>b  |" å°†å…‰æ ‡(å³ç„¦ç‚¹)ç§»åˆ°åº•éƒ¨çª—å£
noremap <LEADER>wt <C-W>t  |" å°†å…‰æ ‡(å³ç„¦ç‚¹)ç§»åˆ°é¡¶éƒ¨çª—å£
noremap <LEADER>ws <C-W>s  |" æ°´å¹³åˆ†å‰²çª—å£
noremap <LEADER>wv <C-W>v  |" å‚ç›´åˆ†å‰²çª—å£
noremap <LEADER>wh <C-W>h  |" å°†å…‰æ ‡(å³ç„¦ç‚¹)ç§»åˆ°å·¦è¾¹çª—å£
noremap <LEADER>wj <C-W>j  |" å°†å…‰æ ‡(å³ç„¦ç‚¹)ç§»åˆ°ä¸‹è¾¹çª—å£
noremap <LEADER>wk <C-W>k  |" å°†å…‰æ ‡(å³ç„¦ç‚¹)ç§»åˆ°ä¸Šè¾¹çª—å£
noremap <LEADER>wl <C-W>l  |" å°†å…‰æ ‡(å³ç„¦ç‚¹)ç§»åˆ°å³è¾¹çª—å£
noremap <LEADER>ww <C-W>w  |" å°†å…‰æ ‡(å³ç„¦ç‚¹)ç§»åˆ°ä¸‹ä¸€ä¸ªçª—å£
"noremap <F5>       <C-W>w  |" å°†å…‰æ ‡(å³ç„¦ç‚¹)ç§»åˆ°ä¸‹ä¸€ä¸ªçª—å£
noremap <LEADER>wH <C-W>H  |" å°†å½“å‰çª—å£ç§»åˆ°å·¦è¾¹ 
noremap <LEADER>wJ <C-W>J  |" å°†å½“å‰çª—å£ç§»åˆ°ä¸Šè¾¹
noremap <LEADER>wK <C-W>K  |" å°†å½“å‰çª—å£ç§»åˆ°ä¸‹è¾¹
noremap <LEADER>wL <C-W>L  |" å°†å½“å‰çª—å£ç§»åˆ°å³è¾¹
noremap <LEADER>w= <C-W>=  |" ä½¿æ‰€æœ‰åˆ†çª—å£ä¸€æ ·é«˜
noremap <LEADER>w+ <C-W>+  |" å¢åŠ å½“å‰çª—å£çš„é«˜åº¦
noremap <LEADER>w- <C-W>-  |" å‡å°‘å½“å‰çª—å£çš„é«˜åº¦
noremap <LEADER>w> <C-W>>  |" å¢åŠ å½“å‰çª—å£çš„å®½åº¦
noremap <LEADER>w< <C-W><  |" å‡å°‘å½“å‰çª—å£çš„å®½åº¦
noremap <LEADER>wT <C-W>T  |" å°†æ‰€æœ‰åˆ†çª—å£è½¬æ¢ä¸ºæ ‡ç­¾

" åˆ é™¤å½“å‰æ–‡ä»¶ä¸­çš„å…¨éƒ¨å†…å®¹ï¼Œå¹¶è¿›å…¥ç¼–è¾‘çŠ¶æ€
nnoremap <LEADER><LEADER>c ggVGc

" xå¯è§†æ¨¡å¼ã€sé€‰æ‹©æ¨¡å¼ä¸‹ï¼Œåˆ é™¤é€‰ä¸­åŒºåŸŸ(é€‰ä¸­æ–‡æœ¬ã€é€‰ä¸­å†…å®¹)ç„¶åæ’å…¥æ–°è¡Œ(è¿›å…¥æ’å…¥æ¨¡å¼)
" æ³¨ï¼švå¼€å¤´çš„æ˜ å°„å‘½ä»¤(vmapã€vnoremapã€vunmapã€vmapclear)åŒæ—¶é€‚ç”¨äºå¯è§†æ¨¡å¼ä¸é€‰æ‹©æ¨¡å¼ 
"     (è€Œxå¼€å¤´çš„æ˜ å°„å‘½ä»¤ä»…é€‚ç”¨äºå¯è§†æ¨¡å¼ã€så¼€å¤´çš„æ˜ å°„å‘½ä»¤ä»…é€‚ç”¨äºé€‰æ‹©æ¨¡å¼)
vnoremap o        do
vnoremap O        dO
" xå¯è§†æ¨¡å¼ã€sé€‰æ‹©æ¨¡å¼ä¸‹ï¼Œåˆ é™¤é€‰ä¸­åŒºåŸŸ(é€‰ä¸­æ–‡æœ¬ã€é€‰ä¸­å†…å®¹)å†ç²˜è´´
vnoremap p        d"0p
vnoremap P        d"0P
" nã€xã€sã€oæ¨¡å¼ä¸‹ç²˜è´´"0å¤åˆ¶ä¸“ç”¨å¯„å­˜å™¨ä¸­çš„å†…å®¹
" æ³¨ï¼šmapã€noremapã€unmapã€mapclearå‘½ä»¤åŒæ—¶é€‚ç”¨äºnæ™®é€šæ¨¡å¼ã€xå¯è§†æ¨¡å¼ã€sé€‰æ‹©æ¨¡
"     å¼ã€oæ“ä½œç¬¦å¾…å®šæ¨¡å¼(æ“ä½œç¬¦ç­‰å¾…æ¨¡å¼)ã€vè¡¨ç¤ºå¯è§†ä¸é€‰æ‹©æ¨¡å¼ã€‘
" nã€xã€sã€oæ¨¡å¼ä¸‹ç²˜è´´"0å¤åˆ¶ä¸“ç”¨å¯„å­˜å™¨ä¸­çš„å†…å®¹
noremap <LEADER>p "0p
noremap <LEADER>P "0P
" å–æ¶ˆoæ¨¡å¼ä¸‹çš„ä¸Šè¿°æ˜ å°„
ounmap  <LEADER>p
ounmap  <LEADER>P
" nã€xã€sã€oæ¨¡å¼ä¸‹ç²˜è´´"aå‘½åå¯„å­˜å™¨ä¸­çš„å†…å®¹
" æ³¨ï¼šå°å†™å­—æ¯å¯„å­˜å™¨ä¼šè¦†ç›–åŸæœ‰å†…å®¹ï¼›å¤§å†™å­—æ¯å¯„å­˜å™¨åªè¿½åŠ ä¸è¦†ç›–
noremap <LEADER><LEADER>a "ap
noremap <LEADER><LEADER>A "aP
" å–æ¶ˆoæ¨¡å¼ä¸‹çš„ä¸Šè¿°æ˜ å°„
ounmap  <LEADER><LEADER>a
ounmap  <LEADER><LEADER>A
" easy system clipboard copy/paste
" "*è¡¨ç¤ºç³»ç»Ÿå‰ªè´´æ¿å¯„å­˜å™¨
noremap <LEADER><LEADER>y "*y
noremap <LEADER><LEADER>Y "*Y
noremap <LEADER><LEADER>p "*p
noremap <LEADER><LEADER>P "*P
" å–æ¶ˆoæ¨¡å¼(Opeator-Pending Modeï¼Œæ“ä½œç¬¦å¾…å®šæ¨¡å¼ã€æ“ä½œç¬¦ç­‰å¾…æ¨¡å¼)ä¸‹çš„ä¸Šè¿°æ˜ å°„
ounmap  <LEADER><LEADER>y
ounmap  <LEADER><LEADER>Y
ounmap  <LEADER><LEADER>p
ounmap  <LEADER><LEADER>P

" æ ‡è®°è·³è½¬æ“ä½œå¿«æ·é”®æ˜ å°„
nnoremap <LEADER>.  `.
nnoremap <LEADER>d  `.
nnoremap <LEADER>m  `m

" å¯è§†æ¨¡å¼ã€é€‰æ‹©æ¨¡å¼ä¸‹ï¼Œsurroundé€‰ä¸­åŒºåŸŸ
" vnoremap s        mzdo<ESC>pyss)
" onoremap s        

" Visual mode pressing * or # searches for the current selection
" Super useful! From an idea by Michael Naumann
" å¯è§†æ¨¡å¼ä¸‹æœç´¢é€‰ä¸­çš„å†…å®¹(é€‰ä¸­å†…å®¹æœç´¢)
" yï¼Œå¤åˆ¶å¯è§†åŒºåŸŸ(é€‰æ‹©åŒºåŸŸã€é€‰æ‹©æ–‡æœ¬)ï¼›/ï¼Œè¿›å…¥æœç´¢å‘½ä»¤è¡Œæ¨¡å¼ï¼›
" <C-R>0ï¼Œç²˜è´´"0å¤åˆ¶ä¸“ç”¨å¯„å­˜å™¨ä¸­åˆšåˆšå¤åˆ¶çš„å†…å®¹ï¼›<CR>ï¼Œå›è½¦æ‰§è¡Œæœç´¢
" æ³¨æ„ï¼šå¿…é¡»ä½¿ç”¨vnoremapï¼Œè€Œä¸èƒ½ä½¿ç”¨vmapï¼Œå¦åˆ™æ— æ³•è¾¾åˆ°ç›®çš„
" å¦å¤–ï¼Œæœ¬æ–¹æ³•åœ¨é‡åˆ°æ–œæ /è¿™æ ·çš„ç‰¹æ®Šå­—ç¬¦æ—¶ï¼Œæ— æ³•è¾¾åˆ°ç›®çš„ï¼Œ
" å³ä½¿ä½¿ç”¨<C-R><C-R>ä¹Ÿä¸è¡Œ
vnoremap f y/<C-R>0<CR>

"-----------------------------------------------------------------------
"-----------------------------------------------------------------------
"NOTE NOTE ä»¥ä¸‹éƒ¨åˆ†çš„é”®ç›˜æ˜ å°„éœ€è¦è„šæœ¬æˆ–æ’ä»¶æ”¯æŒï¼Œä¸é€‚ç”¨äºideavimå’Œvsvim
"-----------------------------------------------------------------------
"-----------------------------------------------------------------------
"noremap * :call VisualSelectionArthurChiao('SearchForward', '')<CR>
"noremap # :call VisualSelectionArthurChiao('SearchBackward', '')<CR>
" <C-R>ï¼Œå‘½ä»¤è¡Œæ¨¡å¼ä¸‹æ’å…¥å¯„å­˜å™¨ä¸­çš„å†…å®¹ï¼›<C-R>/ï¼Œæ’å…¥æœç´¢æ¨¡å¼å¯„å­˜å™¨çš„å†…å®¹
"vnoremap * :<C-U>call VisualSelectionAmix('', '')<CR>/<C-R>=@/<CR><CR>
"vnoremap # :<C-U>call VisualSelectionAmix('', '')<CR>?<C-R>=@/<CR><CR>
"vnoremap * :<C-U>call VisualSelectionAmix('', '')<CR>/<C-R>/<CR>
"vnoremap # :<C-U>call VisualSelectionAmix('', '')<CR>?<C-R>/<CR>
vnoremap <LEADER>f :call VisualSelectionAmix('', '')<CR>/<C-R>/<CR>
"vnoremap <LEADER>b :call VisualSelectionAmix('', '')<CR>?<C-R>/<CR>

" Use absolute linenum in Insert mode; relative linenum in Normal mode
autocmd FocusLost,InsertEnter * :call UseAbsNum()
autocmd FocusGained,InsertLeave * :call UseRelNum()

" ç»å¯¹è¡Œå·ã€ç›¸å¯¹è¡Œå·ã€æ— è¡Œå·åˆ‡æ¢
" com[mand][!] [{attr}...] {cmd} {rep}ï¼šå®šä¹‰ä¸€ä¸ªç”¨æˆ·å‘½ä»¤ã€‚å‘½ä»¤çš„åå­—æ˜¯
" {cmd}ï¼Œè€Œæ›¿æ¢çš„æ–‡æœ¬æ˜¯{rep}ã€‚è¯¥å‘½ä»¤çš„å±æ€§(å‚è€ƒæ‰‹å†Œ)æ˜¯{attr}ã€‚å¦‚æœè¯¥
" å‘½ä»¤å·²å­˜åœ¨ï¼ŒæŠ¥é”™ï¼Œé™¤éæŒ‡å®š!ï¼Œè¿™ç§æƒ…å†µä¸‹å‘½ä»¤è¢«é‡å®šä¹‰ã€‚
command! Tln call s:ToggleLineNumber()
nnoremap <F2> :Tln<CR>

" åˆ‡æ¢æ»šåŠ¨æ¨¡å¼ï¼šæ–‡æœ¬é€è¡Œæ»šåŠ¨(å…‰æ ‡ä¸åŠ¨)ã€å…‰æ ‡é€è¡Œç§»åŠ¨
command! Tsm call ToggleScrollMode()
nnoremap <F3> :call ToggleScrollMode()<CR>

" åœ¨ä¸´æ—¶å°†å½“å‰çª—å£æ”¾å¤§åˆ°ä¸€ä¸ªæ–°æ ‡ç­¾ä»¥åŠå…³é—­è¯¥æ–°æ ‡ç­¾è¿”å›åŸçª—å£ä¹‹é—´åˆ‡æ¢
if has('gui_running')
    map <LEADER>zm :call ZoomWindowTemporarily()<CR>
endif

"" æ˜ å°„Vundleå‘½ä»¤ï¼ˆVundleæºäºBundleï¼Œä¸ºé¿å…ä¸å…¶ä»–æ˜ å°„å†²çªï¼Œä½¿ç”¨bå¼€å¤´ï¼‰
"map <LEADER>bl :PluginList<CR>
"map <LEADER>bi :PluginInstall<CR>
"map <LEADER>bu :PluginUpdate<CR>
"map <LEADER>bs :PluginSearch
"map <LEADER>bc :PluginClean<CR>

" æ˜ å°„ç¼“å†²åŒºç®¡ç†æ’ä»¶bufferhint(æŸ¥çœ‹ã€åˆ‡æ¢ç¼“å†²åŒº)çš„å¿«æ·é”®
" bufferhintä½¿ç”¨è¯´æ˜ï¼š
"     æŒ‰\é”®å¯è°ƒå‡ºâ€œç¼“å†²åŒºåˆ—è¡¨â€çª—å£ã€‚å†æŒ‰ä¸€ä¸‹ï¼Œå¯ä»¥å…³é—­(æŒ‰qä¹Ÿå¯å…³é—­)ï¼›
"     ç¼“å†²åŒºåˆ—è¡¨æœ€å·¦ä¾§çš„ä¸€ä¸ªæˆ–ä¸¤ä¸ªå­—æ¯(hint key)ä¸ç¼“å†²åŒºå…³è”ï¼Œ
"     æŒ‰ä¸‹å­—æ¯ï¼Œå°±èƒ½åˆ‡æ¢åˆ°å¯¹åº”çš„ç¼“å†²åŒº(ç±»ä¼¼äºVimperator/Vimium/VimFx)ï¼›
"
"     æŒ‰|é”®å¯åˆ‡å›ä¸Šä¸€ä¸ªç¼“å†²åŒºã€‚å½“é¢‘ç¹åœ°åœ¨æŸä¸¤ä¸ªæ–‡ä»¶ä¹‹é—´æ¥å›åˆ‡æ¢æ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ï¼›
"     å½“å…‰æ ‡åœ¨ç¼“å†²åŒºåˆ—è¡¨é‡Œæ—¶ï¼ŒæŒ‰qå¯å…³é—­çª—å£(æˆ–æŒ‰\é”®)ï¼Œkå’Œjå¯ä»¥ä¸Šä¸‹ç§»åŠ¨ï¼›
"     å¦å¤–ï¼Œç®­å¤´é”®ã€<c-f>ã€<c-b>ã€<home>ã€<end>ã€ggã€Gä¹Ÿå¯ç§»åŠ¨å…‰æ ‡ï¼›
"     æŸ¥æ‰¾åªéœ€åƒå¹³å¸¸ä¸€æ ·æŒ‰ä¸‹/ï¼Œè¾“å…¥å…³é”®å­—åå›è½¦ï¼ŒæŒ‰nåˆ°ä¸‹ä¸€ä¸ªï¼ŒæŒ‰Nåˆ°ä¸Šä¸€ä¸ªï¼Œ
"     å½“æ‰¾åˆ°éœ€è¦çš„ç¼“å†²åŒºä¹‹åï¼Œå›è½¦å°±èƒ½æ‰“å¼€ï¼›è‹¥æƒ³å…³é—­å…‰æ ‡ä¸‹çš„ç¼“å†²åŒºï¼ŒæŒ‰ddï¼›
"     è‹¥æƒ³å…³é—­è§†åŒºå†…ä»»ä¸€ç¼“å†²åŒºï¼Œè¾“å…¥dåŠå…¶å¯¹åº”çš„hint keyï¼Œä¾‹å¦‚daï¼Œå†å›è½¦ï¼›
"     å½“ç¼“å†²åŒºåˆ—è¡¨é¦–æ¬¡æ‰“å¼€æ—¶ï¼ŒæŒ‰è·¯å¾„æ’åº(å·¦ä¾§å­—æ¯ä¸ºé»„è‰²)ï¼›æŒ‰ä¸‹ç©ºæ ¼é”®ï¼Œ
"     å¯æŠŠæ’åºæ–¹å¼åˆ‡æ¢åˆ°Latest Recently Used(å·¦ä¾§å­—æ¯å˜æˆç»¿è‰²)ã€‚
noremap \ :call bufferhint#Popup()<CR>
" â€œ|â€å¿…é¡»è½¬ä¹‰ï¼Œå¦åˆ™å°†è¢«è¯†åˆ«æˆè¯­å¥åˆ†éš”ç¬¦ï¼Œè€Œå¯¼è‡´å‡ºç°â€œUnknown function: 
" bufferhint#LoadPreviousâ€çš„é”™è¯¯ï¼Œè¿™æ˜¯å› ä¸ºvimrcå¯åŠ¨è¿‡ç¨‹ä¸­bufferhint.vim
" æ–‡ä»¶è¿˜æœªåŠ è½½ï¼Œæ‰€ä»¥æ‰¾ä¸åˆ°è¯¥å‡½æ•°è€Œå‡ºé”™ã€‚
noremap \| :call bufferhint#LoadPrevious()<CR>

" æ‰“å¼€NERDTree
"map <LEADER>n :NERDTree<CR>
map <LEADER>n :NERDTreeToggle<CR>
" Open a NERDTree automatically when vim starts up if no files were specified:
autocmd StdinReadPre * let s:std_in=1
autocmd VimEnter * if argc() == 0 && !exists("s:std_in") | NERDTree | endif
" Close vim if the only window left open is a NERDTree
autocmd bufenter * if (winnr("$") == 1 && exists("b:NERDTree") &&
            \ b:NERDTree.isTabTree()) | q | endif
"" NERDTress File highlighting
"function! NERDTreeHighlightFile(extension, fg, bg, guifg, guibg)
" exec 'autocmd filetype nerdtree highlight ' . a:extension .' ctermbg='. a:bg .'
"            \  ctermfg='. a:fg .' guibg='. a:guibg .' guifg='. a:guifg
" exec 'autocmd filetype nerdtree syn match ' . a:extension .' #^\s\+.*'. a:extension .'$#'
"endfunction
"call NERDTreeHighlightFile('jade', 'green', 'none', 'green', '#151515')
"call NERDTreeHighlightFile('ini', 'yellow', 'none', 'yellow', '#151515')
"call NERDTreeHighlightFile('md', 'blue', 'none', '#3366FF', '#151515')
"call NERDTreeHighlightFile('yml', 'yellow', 'none', 'yellow', '#151515')
"call NERDTreeHighlightFile('config', 'yellow', 'none', 'yellow', '#151515')
"call NERDTreeHighlightFile('conf', 'yellow', 'none', 'yellow', '#151515')
"call NERDTreeHighlightFile('json', 'yellow', 'none', 'yellow', '#151515')
"call NERDTreeHighlightFile('html', 'yellow', 'none', 'yellow', '#151515')
"call NERDTreeHighlightFile('styl', 'cyan', 'none', 'cyan', '#151515')
"call NERDTreeHighlightFile('css', 'cyan', 'none', 'cyan', '#151515')
"call NERDTreeHighlightFile('coffee', 'Red', 'none', 'red', '#151515')
"call NERDTreeHighlightFile('js', 'Red', 'none', '#ffa500', '#151515')
"call NERDTreeHighlightFile('php', 'Magenta', 'none', '#ff00ff', '#151515')

" easymotionå˜é‡åŠå¿«æ·é”®æ˜ å°„
map <LEADER><LEADER>h <Plug>(easymotion-linebackward)
map <LEADER><LEADER>l <Plug>(easymotion-lineforward)
map <LEADER><LEADER>. <Plug>(easymotion-repeat)
" ä¸‹åˆ—å¿«æ·é”®ä¸ºeasymotionçš„é»˜è®¤æ˜ å°„ï¼Œæ— éœ€é‡å¤è®¾ç½®
" <LEADER><LEADER>wï¼šè·³è½¬åˆ°å½“å‰å…‰æ ‡åçš„æŸä¸ªå•è¯
" <LEADER><LEADER>bï¼šè·³è½¬åˆ°å½“å‰å…‰æ ‡å‰çš„æŸä¸ªå•è¯
" <LEADER><LEADER>sï¼šåŒå‘è·³è½¬åˆ°æ‰€è¾“å…¥çš„å•ä¸ªå­—æ¯
" <LEADER><LEADER>jï¼šè·³è½¬åˆ°å…‰æ ‡ä¸‹é¢çš„æŸè¡Œ
" <LEADER><LEADER>kï¼šè·³è½¬åˆ°å…‰æ ‡ä¸Šé¢çš„æŸè¡Œ
let g:EasyMotion_smartcase=1
" keep cursor colum when JK motion
let g:EasyMotion_startofline=0

" Sneakå¿«æ·é”®æ˜ å°„è®¾ç½®ï¼Œè¯¦ç»†è¯´æ˜å¯æ‰§è¡Œå‘½ä»¤ï¼š:help sneakæŸ¥çœ‹ï¼›
" ä¹Ÿå¯ä»¥å‚è§ï¼šhttps://github.com/justinmk/vim-sneak
" 2-character Sneak (default)
nmap <LEADER>s <Plug>Sneak_s
nmap <LEADER>S <Plug>Sneak_S
" visual-mode
xmap <LEADER>s <Plug>Sneak_s
xmap <LEADER>S <Plug>Sneak_S
" operator-pending-mode
omap <LEADER>s <Plug>Sneak_s
omap <LEADER>S <Plug>Sneak_S

" repeat motion
"map ? <Plug>Sneak_;
"map ? <Plug>Sneak_,

" Replace f and/or t with one-character Sneak
" NOTE These mappings do not invoke label-mode, even if it enabled.
" 1-character enhanced 'f'
nmap f <Plug>Sneak_f
nmap F <Plug>Sneak_F
" visual-mode
xmap f <Plug>Sneak_f
xmap F <Plug>Sneak_F
" operator-pending-mode
omap f <Plug>Sneak_f
omap F <Plug>Sneak_F

" 1-character enhanced 't'
nmap t <Plug>Sneak_t
nmap T <Plug>Sneak_T
" visual-mode
xmap t <Plug>Sneak_t
xmap T <Plug>Sneak_T
" operator-pending-mode
omap t <Plug>Sneak_t
omap T <Plug>Sneak_T

"" label-mode
"nmap ? <Plug>SneakLabel_s
"nmap ? <Plug>SneakLabel_S

" YankRing key map
"map <LEADER><LEADER>y :YRShow<CR>

" å¤šå…‰æ ‡æ“ä½œæ’ä»¶vim-multiple-cursorsçš„å¿«æ·é”®é‡æ–°æ˜ å°„(Key Map)
let g:multi_cursor_start_word_key = '<LEADER><LEADER>m'

" è‡ªåŠ¨æ‰©å±•é€‰æ‹©æ’ä»¶vim-expand-regionè‡ªå®šä¹‰å¿«æ·é”®
" Press + to expand the visual selection and _ to shrink it by default.
" æ³¨ï¼šä¸‹é¢çš„å¿«æ·é”®è®¾ç½®åœ¨Linuxä¸­æ— æ•ˆï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯è¿œç¨‹ç»ˆç«¯ç™»å½•è½¯ä»¶çš„é—®é¢˜
noremap <C-w>   <Plug>(expand_region_expand)
noremap <C-S-w> <Plug>(expand_region_shrink)

"***************************************************************
""""""""""""""""""""""""""""""
" Helper functions
""""""""""""""""""""""""""""""
" æ’¤é”€åˆšåˆšæ‰§è¡Œçš„setè®¾ç½®å‘½ä»¤
" fu[nction][!] {name}([arguments]) [range] [abort] [dict]ï¼š
" å®šä¹‰{name}å‘½åçš„æ–°å‡½æ•°ã€‚åå­—å¿…é¡»ç”±å­—æ¯ã€æ•°å­—å’Œ â€™_â€™ å­—ç¬¦ç»„æˆï¼Œ
" è€Œä¸”å¿…é¡»ä»¥å¤§å†™å­—æ¯æˆ–è€…"s:"å¼€å¤´ã€‚
" è‹¥æœ‰åŒåå‡½æ•°ä¸”æ²¡æœ‰ä½¿ç”¨[!]ï¼Œç»™å‡ºé”™è¯¯ä¿¡æ¯ï¼›è‹¥ç»™å‡º[!]ï¼Œå·²æœ‰çš„å‡½æ•°
" è¢«æ‚„ç„¶æ›¿ä»£ï¼Œä½†è¯¥å‡½æ•°æ­£åœ¨æ‰§è¡ŒæœŸé—´é™¤å¤–ã€‚æ­¤æ—¶ï¼Œè¿™æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚
" å¦‚æœç»™å‡º[range]å‚æ•°ï¼Œåˆ™è¯¥å‡½æ•°è‡ªå·±èƒ½ç†è§£å¹¶å¤„ç†è¡ŒèŒƒå›´ã€‚è¯¥èŒƒå›´é€šè¿‡
" a:firstlineå’Œa:lastlineå®šä¹‰ã€‚å¦‚æœæ²¡æœ‰[range]ï¼Œ:{range}call
" ä¼šåœ¨è¯¥èŒƒå›´çš„æ¯ä¸€è¡Œåˆ†åˆ«æ‰§è¡Œè¯¥å‡½æ•°ï¼Œæ¯æ¬¡å…‰æ ‡éƒ½å®šä½åœ¨å¤„ç†è¡Œçš„è¡Œé¦–ã€‚
" è§|function-range-example|ã€‚
function! UndoSetCommand()
    if (@:=~? '^set\s') || (@:=~? '^se\s')
        exe @:.'!'
    endif
endfunction
""""""""""""""""""""""""""""""

" è·å–Vimèƒ½è®¿é—®çš„æ‰€æœ‰ç¯å¢ƒå˜é‡(åŒ…æ‹¬æ“ä½œç³»ç»Ÿå®šä¹‰çš„ç¯å¢ƒå˜é‡ä¸Vimå®šä¹‰
" çš„ç¯å¢ƒå˜é‡)
function! Env()
    redir => s
    sil! exe "norm!:ec$\<c-a>'\<c-b>\<right>\<right>\<del>'\<cr>"
    redir END
    return split(s)
endfunction

" Returns true if paste mode is enabled
function! HasPaste()
    if &paste
        return 'PASTE MODE  '
    endif
    return ''
endfunction
""""""""""""""""""""""""""""""

function! CmdLine(str)
    " menuï¼Œåˆ›å»ºèœå•ï¼›emenuï¼Œæ‰§è¡Œèœå•(ç›¸å½“äºå•å‡»èœå•)ï¼›unmenuï¼Œåˆ é™¤èœå•
    execute "menu Foo.Bar :" . a:str
    emenu Foo.Bar
    unmenu Foo
endfunction

" å¯è§†æ¨¡å¼ä¸‹æŒ‰é€‰æ‹©æ–‡æœ¬(é€‰ä¸­çš„å†…å®¹)æ‰§è¡ŒæŸ¥æ‰¾æœç´¢
function! VisualSelectionAmix(direction, extra_filter) range
    " é¢„å­˜æ— åå¯„å­˜å™¨çš„å†…å®¹
    let l:saved_reg=@"
    " :exe[cute] {expr1}ï¼Œè®¡ç®—{expr1}ï¼Œè¿”å›çš„å­—ç¬¦ä¸²ä½œä¸ºExå‘½ä»¤æ‰§è¡Œï¼ˆç±»ä¼¼äºJSçš„
    " eval()å‡½æ•°ï¼‰
    " :norm[al][!] {commands}ï¼Œåœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸Šæ‰§è¡Œæ™®é€šæ¨¡å¼å‘½ä»¤ï¼Œ!ä¸ºä¸ä½¿ç”¨æ˜ å°„
    " vgvyï¼Œè¿›å…¥å¯è§†æ¨¡å¼ï¼Œé‡é€‰ä¸Šä¸€æ¬¡çš„é€‰æ‹©åŒºåŸŸ(é€‰åŒº)ï¼Œå¹¶å¤åˆ¶è¯¥é€‰åŒº
    execute "normal! vgvy"

    " escape({string}, {chars})ï¼Œå°†{string}ä¸­çš„{chars}å­—ç¬¦ç”¨åæ–œæ è½¬ä¹‰
    " æ³¨æ„ï¼šVimScriptä¸­åŒå¼•å·å­—ç¬¦ä¸²ä¸å•å¼•å·å­—ç¬¦ä¸²çš„åŒºåˆ«ï¼š
    " åŒå¼•å·å­—ç¬¦ä¸²ç”¨äºç‰¹æ®Šçš„â€œè½¬ä¹‰åºåˆ—â€ï¼ˆå¦‚\nç”¨äºæ¢è¡Œç¬¦ã€\u263Aç”¨äºUnicodeç¬‘è„¸æ ‡å¿—ã€
    " \<ESC>ç”¨äºè½¬ä¹‰å­—ç¬¦ï¼›è€Œå•å¼•å·å­—ç¬¦ä¸²åˆ™å°†åŒ…æ‹¬åœ¨å…¶ä¸­çš„æ‰€æœ‰å†…å®¹è§†ä¸ºæ–‡å­—å­—ç¬¦ï¼Œæ¯”å¦‚
    " \nä»…è¢«è§†ä½œ\å’Œnä¸¤ä¸ªå­—é¢æ–‡å­—å­—ç¬¦ï¼Œè€Œä¸è§†ä¸ºæ¢è¡Œç¬¦ï¼Œä½†ä¹Ÿè¦ä¾‹å¤–â€”â€”â€”â€”ä¸¤ä¸ªè¿ç»­çš„å•å¼•å·ï¼Œ
    " å®ƒä»¬è¢«å•çº¯åœ°å½“ä½œå•å¼•å·ï¼Œæ¢è¨€ä¹‹ï¼Œå•å¼•å·å­—ç¬¦ä¸²é‡Œé¢ä½œä¸ºå­—é¢æ–‡å­—å­—ç¬¦çš„å•å¼•å·
    " å¿…é¡»åœ¨å…¶å‰é¢åŠ å¤šä¸€ä¸ªå•å¼•å·ï¼Œä»¥å¯¹å…¶è¿›è¡Œè½¬ä¹‰ï¼Œå¦åˆ™ä¼šè¢«è§†ä½œå•å¼•å·å­—ç¬¦ä¸²çš„ç•Œå®šç¬¦ã€‚
    let l:pattern=escape(@", ' \/.*$^~[]')
    " substitute({expr}, {pat}, {sub}, {flags})ï¼š{expr}ï¼Œè¦è¢«æ›¿æ¢æ“ä½œçš„åŸæ–‡æœ¬ï¼›
    " {pat}ï¼ŒåŒ¹é…æ¨¡å¼(æ¯”å¦‚æ­£åˆ™è¡¨è¾¾å¼)ï¼›{sub}ï¼Œç”¨ä»¥æ›¿æ¢ç¬¦åˆåŒ¹é…æ¨¡å¼çš„æ–‡æœ¬çš„æ–‡æœ¬
    " (å­ä¸²)ï¼›{flags}ï¼Œæ ‡å¿—ä½ï¼Œç¼ºçœä¸ºç©º""ï¼Œåˆ™ä»…ç”¨{sub}æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…ï¼Œè‹¥è®¾ä¸ºgï¼Œ
    " åˆ™æ›¿æ¢æ‰€æœ‰{pat}åŒ¹é…ã€‚è¯¥å‡½æ•°è¿”å›ç»åŒ¹é…æ›¿æ¢åçš„æ–°æ–‡æœ¬ã€‚
    " ä¸‹é¢è¿™ä¸€å¥æ˜¯å°†ä¸Šæ¬¡væ¨¡å¼é€‰ä¸­çš„ã€ç»è¿‡escape()å‡½æ•°å¯¹ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰å¤„ç†åçš„
    " æ–‡æœ¬çš„è¡Œå°¾çš„æ¢è¡Œç¬¦åˆ é™¤(è‹¥è¡Œæœ«æœ‰æ¢è¡Œç¬¦ï¼Œåˆ™ä»¥ç©ºå­—ç¬¦""æ›¿æ¢ï¼Œå®é™…å°±æ˜¯åˆ é™¤)
    let l:pattern=substitute(l:pattern, "\n$", "", "")

    if a:direction=='gv'
        call CmdLine("Ag \"" . l:pattern . "\" " )
    elseif a:direction=='replace'
        call CmdLine("%s" . '/'. l:pattern . '/')
    endif

    let @/=l:pattern
    let @"=l:saved_reg
endfunction

function! VisualSelectionArthurChiao(direction, extra_filter) range
    let l:saved_reg=@"
    execute "normal! vgvy"

    let l:pattern=escape(@", ' \/.*$^~[]')
    let l:pattern=substitute(l:pattern, "\n$", "", "")

    if a:direction=='SearchBackward'
        execute "normal ?" . l:pattern . "^M"
    elseif a:direction=='gv'
        call CmdLine("Ack \"" . l:pattern . "\" " )
    elseif a:direction=='replace'
        call CmdLine("%s" . '/'. l:pattern . '/')
    elseif a:direction=='SearchForward'
        execute "normal /" . l:pattern . "^M"
    endif

    let @/=l:pattern
    let @"=l:saved_reg
endfunction
""""""""""""""""""""""""""""""
function! UseAbsNum()
    if exists('g:noshowlinenumber') || exists('#goyo')
        set nonumber norelativenumber
    else
        set number norelativenumber
    endif
endfunction

function! UseRelNum()
    if exists('g:noshowlinenumber') || exists('#goyo')
        set nonumber norelativenumber
    else
        set number relativenumber
    endif
endfunction

" åˆ‡æ¢ç»å¯¹è¡Œå·ã€ç›¸å¯¹è¡Œå·ã€æ— è¡Œå·
function! s:ToggleLineNumber()
    " cpoï¼Œviå…¼å®¹æ€§é€‰é¡¹ï¼›è¿™é‡Œçš„&è¡¨ç¤ºè·å¾—é€‰é¡¹å˜é‡çš„å€¼
    let l:save_cpo=&cpo
    " se[t] {option}&vimï¼šå¤ä½é€‰é¡¹ä¸ºVimçš„ç¼ºçœå€¼
    set cpo&vim

    " number status
    " 1 -> nonumber
    " 4 -> relative number
    " 2 -> number
    "
    if !exists('b:number_status')
        "You may has multi-windows, so it should only working on local buffer
        if &l:relativenumber==1
            let b:number_status=4
        elseif &l:number==1
            let b:number_status=2
        else
            let b:number_status=1
        endif
    endif
    "
    if b:number_status==1
        "set local number to make sure relative number like this (vim 7.4)
        "
        "   2
        "   1
        " 16  <- show current line number
        "   1
        "   2
        "
        setlocal number
        setlocal relativenumber
        let b:number_status=4
    elseif b:number_status==4
        setlocal norelativenumber
        setlocal number
        let b:number_status=2
    elseif b:number_status==2
        setlocal norelativenumber
        setlocal nonumber
        let b:number_status=1
    endif

    let &cpo=l:save_cpo
endfunction
""""""""""""""""""""""""""""""

" åˆ‡æ¢æ»šåŠ¨æ¨¡å¼ï¼šæ–‡æœ¬é€è¡Œæ»šåŠ¨(å…‰æ ‡ä¸åŠ¨)ã€å…‰æ ‡é€è¡Œç§»åŠ¨
let s:scroll_mode=1
function! ToggleScrollMode()
    if exists("s:scroll_mode")
        "unmap k
        "unmap j
        noremap j gj
        noremap k gk
        unlet s:scroll_mode
	    echom "scroll mode off"
    else
        "nnoremap j <C-e>gj
        "nnoremap k <C-y>gk
        noremap j <C-E>gj
        noremap k <C-Y>gk
        let s:scroll_mode=1
	    echom "scroll mode on"
    endif
endfunction
""""""""""""""""""""""""""""""

" ä¸€é”®åˆ‡æ¢çª—å£æœ€å¤§åŒ–ã€è¿˜åŸçª—å£å¤§å°
function! ToggleWindowSize()
    if has("gui_running")
        if exists("s:window_max_status")
            " æœ€å¤§åŒ–çª—å£
            simalt ~x
            "set lines=999
            "set columns=999
            unlet s:window_max_status
        else
            " è¿˜åŸçª—å£
            simalt ~r
            "set lines=25
            "set columns=86
            "winpos 930 675
            let s:window_max_status=1
        endif
    endif
endfunction
call ToggleWindowSize()
""""""""""""""""""""""""""""""

" å¦‚æœå­˜åœ¨sessionä¼šè¯æ–‡ä»¶ä¸”å¯è¯»ï¼Œåˆ™æ‰§è¡Œè¯¥ä¼šè¯æ–‡ä»¶
function! s:ReadSession()
	let l:session_file="~/.vim/session.vim"
	if filereadable(l:session_file)
		execute "source " . l:session_file
	endif
endfunction
""""""""""""""""""""""""""""""

fun! s:updateSession()
    exe 'mksession! ' . s:sessionfile
    echo 'updating session'
endfun

fun! s:loadSession()
    if argc() == 0
        if (filereadable(s:sessionfile))
            exe 'so' s:sessionfile
        else
            echo 'No session loaded.'
        endif
    endif
endfun
""""""""""""""""""""""""""""""

" ä¸´æ—¶å°†å½“å‰çª—å£æ–°å¼€ä¸€ä¸ªæ ‡ç­¾ï¼Œåœ¨åˆ†å±å¤šçª—å£çš„æƒ…å†µä¸‹ï¼Œ
" ç›¸å½“äºæ”¾å¤§äº†è¯¥çª—å£ï¼›å†æ¬¡è°ƒç”¨ä¼šå…³é—­è¯¥æ–°æ ‡ç­¾å¹¶
" å›åˆ°åŸçª—å£(ä»…é™äºæœªå†æ–°å¼€æ ‡ç­¾çš„æƒ…å†µï¼Œå¦åˆ™å¯¼è‡´æ··ä¹±)ï¼Œ
" ç›¸å½“äºç¼©å°äº†è¯¥çª—å£ï¼›å…¶ä¸­ï¼Œwinsaveview()ä¸winresetview()
" å‡½æ•°ç”¨æ¥å°†æ–°å¼€æ ‡ç­¾çš„çª—å£ä¿¡æ¯(å…‰æ ‡ä½ç½®ç­‰)åº”ç”¨å›åŸçª—å£
function! ZoomWindowTemporarily()
    " check if is the zoomed state (tabnumber > 1 && window == 1)
    if exists("s:is_zoom_window") && tabpagenr('$') > 1 && tabpagewinnr(tabpagenr(), '$')==1
        let l:cur_winview=winsaveview()
        let l:cur_bufname=bufname('')
        tabclose

        " restore the view
        if l:cur_bufname==bufname('')
            call winrestview(cur_winview)
        endif

        unlet s:is_zoom_window
    else
        tab split
        let s:is_zoom_window=1
    endif
endfunction


"*****************************************************************************
" æœ‰ç”¨çš„åŠŸèƒ½è„šæœ¬
"*****************************************************************************
"=========================================================================
" Description: Insert pair character automaticly
"              è‡ªåŠ¨æ’å…¥æˆå¯¹å‡ºç°çš„å­—ç¬¦(è‡ªåŠ¨è¾“å…¥é…å¯¹å­—ç¬¦)
" Author: Qiming Zhao <chemzqm@gmail.com>
" Licence: Vim licence
" Version: 0.1
" Last Modified: Sep 13, 2016
"=========================================================================
if !exists('did_simple_pairs_loaded')
    let did_simple_pairs_loaded = 1
    let s:pairs = {'(': ')', 'ï¼ˆ': 'ï¼‰', '[': ']', '{': '}', '<': '>', '"': '"', "'": "'", '`' : '`'}
    
    function! s:getNextChar()
        let pos = getcurpos()
        let lnum = pos[1]
        let cnum = pos[2]
        let line = getline('.')
        if cnum == len(line) + 1 | return -1 | endif
        return line[cnum - 1]
    endfunction
    
    function! s:getPrevChar()
        let pos = getcurpos()
        let lnum = pos[1]
        let cnum = pos[2]
        echo cnum
        if cnum < 2 | return -1 | endif
        return getline('.')[cnum - 2]
    endfunction
    
    function! s:InsertPair(c)
        let matchingPair = s:pairs[a:c]
        let nextChar = s:getNextChar()
        let prevChar = s:getPrevChar()
        let isQuote = index(['"', "'", '`'], a:c) != -1
        if isQuote && prevChar == a:c && nextChar == -1
            return a:c
        endif
        if nextChar == -1
            let insertPair = 1
        else
            if isQuote && nextChar == a:c
                return "\<Right>"
            else
                if isQuote
                    let insertPair = (nextChar != matchingPair)
                else
                    let insertPair = 1
                endif
            endif
        endif
        if insertPair
            let result = a:c . matchingPair . "\<Left>"
        else
            let result = a:c
        endif
        return result
    endfunction
    
    function! s:ClosePair(c)
        let nextChar = s:getNextChar()
        if nextChar ==# a:c
            return "\<Right>"
        else
            return a:c
        endif
    endfunction
    
    for key in keys(s:pairs)
        execute 'inoremap <silent> '.key.' <C-R>=<SID>InsertPair("'.escape(key, '"').'")<CR>'
    endfor
    
    for key in [']', ')', '}']
        execute 'inoremap <silent> '.key.' <C-R>=<SID>ClosePair("'.key.'")<CR>'
    endfor
endif
"=========================================================================